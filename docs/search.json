[
  {
    "objectID": "03-cartography.html",
    "href": "03-cartography.html",
    "title": "1 Cartography and Visualisation",
    "section": "",
    "text": "This week’s lecture has given you an introduction into how we can create a successful map. We further talked about map projections, cartographic conventions and issues faced with the analysis of aggregated data at areal units. The practical component of the week puts some of these learnings into practice as we analyse crime rates in London at two different scales.\n\n\nThe slides for this week’s lecture can be downloaded here: [Link]\n\n\n\n\n\n\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 4: Georeferencing. [Link]\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 11: Cartography and Map Production. [Link]\nWong, D. 2009. Modifiable Areal Unit Problem. International Encyclopedia of Human Geography 169-174. [Link]\n\n\n\n\n\nLongley, P. et al. 2015. Geographic Information Science & systems, Chapter 12: Geovisualization. [Link]\nUsery, L. and Seong, J. 2001. All equal-area map projections are created equal, but some are more equal than others. Cartography and Geographic Information Science 28(3): 183-194. [Link]\n\n\n\n\n\nOver the next few weeks, we will explore the spatial patterns of crime across London from a spatial perspective. Reid et al. (2018) suggest:\n\nSpatial analysis can be employed in both an exploratory and well as a more confirmatory manner with the primary purpose of identifying how certain community or ecological factors (such as population characteristics or the built environment) influence the spatial patterns of crime.\n\nAgainst this background, we are actually going to answer a very simple question today: does our perception of crime rates (and its distribution) in London vary at different scales? Here we are looking to test whether we would make the ecological fallacy mistake of assuming patterns at the LSOA level are the same at the Borough level by looking to directly account for the impact of the Modifiable Area Unit Problem within our results. Here we will be looking specifically at a specific type of crime: Theft from a person.\n\n\n\n\n\n\nThe datasets you will create in this practical will be used in other practicals, so make sure to follow every step and export your data to your data folder at the end of the practical.\n\n\n\n\n\nFor our crime data, we will use data directly from the Police Data Portal, which you can find at https://data.police.uk/. This Data Portal allows you to access and generate tabular data for crime recorded in the UK across different the different Police Forces since 2017.\n\n\n\n\n\n\nIn the United Kingdom, there are 45 territorial police forces (TPF) and 3 special police forces (SPF). Each TPF covers a specific area in the UK (e.g. the “West Midlands Police Force”), whilst the SPFs are cross-jurisdiction and cover specific types of crime, such as the British Transport Police. Therefore, when we want to download data for a specific area, we need to know which Police Force covers our area interest.\n\n\n\nWhen you look to download crime data for London, there are two territorial police forces working within the city and its greater metropolitan area:\n\nThe Metropolitan Police Force, which covers Greater London.\nThe City of London Police, which covers the City of London.\n\n\n\n\nWe know that if we want to study a phenomena like crime and aggregate it to an areal unit, we will need to normalise this by our some denominator (e.g. population). Fortunately, we already sorted out our 2021 LSOA population datasets last week (i.e. LSOA2021_London.gpkg).\nIn addition to our LSOA level dataset, we also want to generate a similar dataset for our London Boroughs, utilising the same approach as last week by joining our population table data to Borough spatial data and creating a Borough2021_London.gpkg file.\n\n\n\nAs outlined above, to get going with our analysis, we need to download both population and spatial data for our Boroughs as well as the reported locations of criminal activity, theft specifically, in London in 2021.\n\n\nNormally, we would now head to the Police Data Portal and download our crime data. However, the manual processing that is required is too exhaustive to do manually and far easier to do using programming. As such you can download a pre-filtered spreadsheet below. Unzip the file and copy the csv into a new folder in your raw data folder called: crime.\n\n\n\nFile\nType\nLink\n\n\n\n\nTheft from persons in 2021\ncsv\nDownload\n\n\n\n\n\n\n\n\n\nWhen mapping the data from the provided longitude and latitude coordinates, it is important to know that these locations represent the approximate location of a crime — not the exact place that it happened. This displacement occurs to preserve anonymity of the individuals involved. The process by how this displacement occurs is standardised. There is a list of anonymous map points to which the exact location of each crime is compared against this master list to find the nearest map point. The co-ordinates of the actual crime are then replaced with the co-ordinates of the map point. Each map point is specifically chosen to avoid associating that point with an exact household.\n\n\n\n\n\n\nA lot of data about London is collated by the Greater London Authority (GLA) and made available through the London Datastore. Whereas some of the data is relatively old, it is a good place to\n\nNavigate to the London Datastore: [Link].\nClick on Data in the navigation menu.\nType London Boroughs into the search field.\nDownload the GeoPackage containing the boundaries of each of London’s 33 Boroughs.\nRename the file to Boroughs_London.gpkg and move it to boundaries folder in your raw data folder.\n\n\n\n\nThe final data that we need is the total population for each of the London Boroughs in 2021. A good source for this is the 2021 Census.\n\nNavigate to the Nomis portal: [Link]\nClick on Query data in the Data Downloads panel.\nClick on Census 2021 -&gt; Topic Summaries.\nClick on TS007A - Age by five-year age bands.\nSelect Geography and set Local authorities: district / unitary (as of April 2023) to Some.\nUnder List areas within select London. Click on Tick all.\nClick on Download data at the left hand side of the screen.\nOnce the data is ready for download, download the file to your computer and save it as LondonBorough2021_population.xlsx.\nOpen the dataset in your spreadsheet editing software and extract the relevant information: the Borough names and associated population counts. Copy the data that you require into a new csv file and rename the columns as BoroughNames and pop2021.\nNow format the pop2021 column so that it is recognised as being a numeric column.\nSave the file as a new csv in your data folder: LondonBorough2021_population.csv.\n\n\n\n\n\n\n\n\nStart QGIS\nClick on Project -&gt; New. Save your project as w3-crime-analysis. Remember to save your work throughout the practical.\nBefore we get started with adding data, we will first set the Coordinate Reference System of our Project. Click on Project -&gt; Properties – CRS. In the Filter box, type British National Grid. Select OSGB 1936 / British National Grid - EPSG:27700 and click Apply. Click OK.\n\n\n\n\n\nClick on Layer -&gt; Add Layer -&gt; Add Vector Layer.\nWith File select as your source type, click on the small three dots button and navigate to your LSOA2021_London.gpkg file in your boundaries folder. Select the file, then click Add. You may need to close the box after adding the layer.\n\nWe now need to create our Borough population shapefile - and to do so, we need to repeat exactly the same process as last week in terms of joining our table data to our shapefile. You should now be able to do this, so we will not provide you with detailed instructions. Remember, you need to:\n\nLoad the respective Borough dataset as a Vector Layer found in your raw/boundaries/ data folder: Boroughs_London.gpkg.\nLoad the respective population dataset that you just created as a Delimited Text File Layer. Remember the settings, including no geometry!\nJoin the two datasets together using the Join tool in the Borough dataset Properties box. Remember which fields to use, which to add, and to remove the prefix.\nExport your joined dataset into a new dataset within your data folder as: Boroughs_London_Pop2021.gpkg.\nMake sure this dataset is loaded into your Layers / Added to the map.\nRemove the original Borough and population data layers.\n\n\n\n\n\n\n\nBecause the population file that we downloaded does not contain Borough codes, we need to use the Borough names to join the two files together. Whilst it works here and we can easily manually check whether the join was succesful because there are only 33 records, codes are preferred as there is much less room for error and incomplete joins. This means it is often worth it to spend a bit more time and find these codes over relying on names.\n\n\n\nWe will now load and map our crime data. We will load this data using the Delimited Text File Layer option you would have used just now to load the Borough population, but this time we will be adding point coordinates to map our crime data as points.\n\nClick on Layer -&gt; Add Layer -&gt; Add Delimited Text File Layer.\n\nClick on the three dots button next to File Name and navigate to your crime-theft-2021-london.csv in your raw/crime folder.\nClick on the .csv file of this dataset and click Open.\nYour file format should be set to csv. In Record and Fields Options tick Decimal separator is comma, First record has field names, Detect field types and Discard empty fields.\nUnder Geometry Definition, select Point coordinates and set the X field to Longitude and the Y field to Latitude. The Geometry CRS should be: EPSG:4326 - WGS84. Click Add.\n\n\n\n\n\n\n\n\nWhen you click Add, you should have gotten a pop-up from QGIS asking about transformations. Transformations are algorithms that convert data from one CRS to another. QGIS knows that the Project CRS is British National GRid but the Layer you are trying to add has a WGS84 CRS. QGIS is asking you what transformation it should use to project the Layer in the Project CRS. This is one of the key strengths of QGIS: it can project data “on the fly”. What this means is that QGIS will automatically convert all Layers to the Project CRS once it knows which transformation you would like to use so that they will all be rendered in the correct position with respect to each other. More details on this can be found in QGIS’ user manual section on working with projections.\n\n\n\n\nClick OK to accept QGIS’ suggested on-the-fly projection. You should now see your crime dataset displayed on the map.\n\n\n\n\n\n\nFigure 1: Borough map with crime data. [Enlarge image]\n\n\n\n\n\nWe can test the ‘temporary’ nature of the projection by looking at the CRS of the crime-theft-2021-london layer. Right-click on the layer then select Properties -&gt; Information and then look at the associated CRS. You should see that the CRS of the layer is still WGS84.\n\nWe want to make sure our analysis is as accurate and efficient as possible, so it is best to reproject our data into the same CRS as our administrative datasets, i.e. British National Grid. This also means we will have the dataset to use in other projects, just in case.\n\nBack in the main QGIS window, click on Vector -&gt; Data Management Tools -&gt; Reproject Layer. Fill in the parameters as follows:\n\nInput Layer: crime-theft-2021-london\nTarget CRS: Project CRS: EPSG: 27700\nReprojected: Click on the three buttons and Save to GeoPackage to create a new data file.\nSave it in your raw/crime folder as crime-theft-2021-london-prj.gpkg, using theft2021 as Layer Name.\nClick Run. You should now see the new data layer added to your project. You can now close the Reproject Layer tool.\n\nYou can now also remove the original crime-theft-2021-london dataset, only keeping the reprojected version.\n\n\n\n\nThe next step of our analysis is incredibly simple - as QGIS has an in-built tool for us to use. We will use the Count Points in Polygons in the Analysis toolset for Vector data to count how many crimes have occurred in our LSOAs and our Boroughs. We will then have our count statistic which we will need to normalise by our population data to create a crime rate statistic.\n\nClick on Vector -&gt; Analysis Tools -&gt; Count Points in Polygons.\nWithin the toolbox, select the parameters as follows:\n\nPolygons: Boroughs_London_Pop2021\nPoints: theft2021 (Note how both our data layers state the same CRS!)\nNo weight field or class field\nCount field names: theft2021\nClick on the three dot button and Save to GeoPackage: output -&gt; Borough2021_crime.gpkg, with borough-theft2021 as Layer Name.\n\nClick Run and Close the box. You should now see an Output layer added to your Layers box. Rename the layer to borough-theft2021.\nRight-click on the borough-theft2021 layer and open the Attribute Table. You should now see a theft2021 column next to your pop2021 column. You can look through the column to see the different levels of crime in the each Borough. You can also sort the column, from small to big, big to small, like you would do in a spreadsheet software.\n\nWhilst it is great that we have got our theft2021, what we actually need is a crime rate to account for the different population sizes across the Boroughs. To get our crime rate statistic, we are going to do our first bit of table manipulation in QGIS.\n\nWith the Attribute Table of your borough-theft2021 layer still open, click on the pencil icon at the top left corner. This pencil switches on the Editing mode.\n\n\n\n\n\n\n\nThe Editing mode allows you to edit both the Attribute Table values and the geometry of your data. When it comes to the Attribute Table, it means you can directly edit existing values in the table or create and add new fields to the table. Whilst you can actually do the latter outside of the Editing mode, this Editing mode means you can reverse any edits you make and they are not permanent just in case you make a mistake. Using the Editing mode is the safest approach to editing your table, however, it might not always be the approach you use when generating new fields.\n\n\n\n\nWhilst in the Editing mode, click on New Field button (hotkeys: ctrl + w or cmd + w and fill in the Field Parameters as follows:\n\nName: crime-rate\nComment: leave blank\nType: Decimal number\n\nClick OK. You should now see a new field added to our Attribute Table.\n\n\n\n\n\n\n\nUnderstanding how to add new fields and their parameters rely on you understanding the different data types we covered last week - and thinking through what sort of data type your field needs to contain.\n\n\n\nThe empty field has NULL populated for each row - so we need to find a way to give our Boroughs some crime rate data. To do this, we will calculate a simple Crime Rate using the Field Calculator tool provided by QGIS within the Attribute Table. We will create a crime rate that details the number of crimes per 10,000 people in the Borough.\n\nWhilst still in the Editing mode, click on the Abacus button (ctrl + i or cmd + i), which is known as the Field Calculator.\nIn the Field Calculator window:\n\nCheck the Update existing field box.\nUse the drop-down to select the crime-rate field.\nIn the Expression editor, add the following expression: ( “theft2021” / “pop2021” ) * 10000\nOnce done, click OK.\n\nClick on the Save button to save these edits. Click again on the Pencil button to exit Editing mode.\n\n\n\n\n\n\n\nThe crime-rate is stored as a decimal as this is required for the calculation to succeed, but ultimately you cannot have half a crime. You can transform the decimal number to an integer by forcing the crime-rate column to a new field using the Field Calculator using Editing mode again. Instead of ticking the Update existing field box you would now keep the Create a new field box ticked. Name the new field crime-rate-int, make sure the Output field type is set to Whole number (integer), and use the following expression to create a new field with an integer value: to_int(“crime-rate”). Save your changes by clicking on the Save button.\n\n\n\n\nWe now have our Borough crime rate dataset ready for mapping. We just now need to repeat this process to have our LSOA dataset. So, add the LSOA2021_London.gpkg file to your project and repeat the above process to create a crime-rate and crime-rate-int column within the LSOA dataset as well. After reordering some of the layers, your screen should look something like this:\n\n\n\n\n\n\nFigure 2: QGIS view containing crime data layers for both the London Boroughs and LSOAs. [Enlarge image]\n\n\n\n\n\n\n\nNow you have both datasets ready, it is time to style the maps. Remember to use the Properties box to symbolise your mapss. Think through using an appropriate colour scheme - perhaps have a look at the online colorbrewer 2.0 for inspiratoin if you do not want to use the default settings. Once you are happy with their symbolisation, we can turn them into proper publishable maps using QGIS’s Print Layout.\n\n\n\n\n\nFigure 3: An example of how your maps could have been symbolised. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nIf you have used ArcMap before, Print Layout is similar to switch the view of your map canvas to a print layout within the main window but in QGIS’s case, it loads up a new window.\n\n\n\n\nFrom the main QGIS window, click on Project -&gt; New Print Layout. In the small box that first appears, call your new print layout: crime-map-borough-lsoa. A new window should open up.\n\nIn the window that opens up, you are presented with a blank canvas. On the left-hand side of the window, you will find buttons to add print layout items: the current QGIS map canvas, text labels, images, legends, scale bars, basic shapes, arrows, attribute tables and HTML frames. In this toolbar you also find buttons to navigate, zoom in on an area and pan the view on the layout a well as buttons to select any layout item and to move the contents of the map item.\nOn the right-hand side of the window, you will find two set of panels. The upper one holds the panels Items and Undo History and the lower holds the panels Layout, Item properties and Atlas generation. Today, we are most interested in the bottom panel as Layout will control the overall look of our map, whilst Item properties will allow us to customise the elements, such as Title or Legend, that we may add to our map.\nIn the bottom part of the window, you can find a status bar with mouse position, current page number, a combo box to set the zoom level and the number of selected items if applicable. In the upper part of the window, you can find menus and other toolbars. All print layout tools are available in menus and as icons in a toolbar.\n\n\n\n\n\n\nWorking with maps in the Print Layout is simple but it can be a little fiddly and, to make more complicated maps, requires you to understand how to use certain aspects of Print Layout, such as locking items. If you get stuck, have a look at the training manual or the detailed documentation.\n\n\n\nTo start with creating a map, you use the Add Map tool to draw a box in which a snapshot of the current active map you have displayed in your QGIS main window will be loaded.\n\nClick on the Add Map tool and draw a box in the first half of our map to load our current map. Note, you can move your map around and resize the box simply by clicking on it as you would in Word etc.\n\n\n\n\n\n\nFigure 4: Current active map in the Print Layout. [Enlarge image]\n\n\n\n\n\nWith your map selected, head to the Items Properties panel and look for the Scale parameter.\n\nHere we can manually edit the scale of our map to find the right zoom level.\nHave a go at entering different values and see what level you think suits the size of your map.\nKeep a note of the scale, as we will need this for the second map we will add to our map layout - our LSOA map.\nNext, in the same panel, if you would like, you can add a frame to your map - this will draw a box (of your selected formatting) around the current map.\nIn the same panel, note down the size of your map - we want to make sure the next map we add is of the same size.\nNote, if you need to move the position of the map within the box, look for the Move Item Content tool on the left-hand side toolbar.\nOnce you are done, finally click on the Lock Layers and Lock Style for layers.\n\n\nBy locking the Layers (and their symbology) in our map, it means we can change our data/map in our main QGIS window without changing the map in the Print Layout - as we will see in a minute when adding our Borough crime rate map. If we do not lock our layers, our map would automatically update to whatever is next displayed in the main QGIS window.\n\nClick on the Add Legend tool and again, draw a box on your map in which your legend will appear.\n\nAs you will see, your Legend auto-generates an entry for every layer in our Layers box in the main QGIS application:\nIn Item Properties, uncheck auto-update - this stops QGIS automatically populating your legend and enables you to customise your legend.\nFirst, let us rename our Layer in the legend to: Borough Crime Rate (per 10,000 people).\nNext, we want to remove all other Layers, using the - button\nWe can also customise the Legend further, including type, size and alignment of font - go ahead and style your legend as you would prefer.\nMove the Legend to an appropriate part of the layout near your Borough crime rate map - resize if necessary.\n\n\n\n\n\n\n\nFigure 5: The automatically generated legend for your map. [Enlarge image]\n\n\n\n\nNow we are finished with the Borough map, we want to make sure we do not change any aspect of its layout. To do so, we need to lock both the Map and Legend in the Items panel - this prevents us accidentally moving items in our layout. Note, this is different to locking your layers in the Items Properties as we did earlier.\n\nIn the Items panel, click the Lock check box for both our map and legend.\nIn the main QGIS window, uncheck your borough-theft2021 layer and make sure your lsoa-theft2021 layer is now visible.\nReturn to the Print Layout window annd repeat the process above of adding a map to the window - this time, you should now see your LSOA map loaded in the box (and you should see no changes to your Borough map).\n\nPlace your LSOA map next to your LSOA map - use the snap grids to help.\nSet your LSOA map to the same zoom level as your Borough map.\nMake sure your LSOA map is the same size as your Borough map.\nAdd a frame if you want.\nLock your layer and its symbology in the Items Properties once ready and the lock your layer in the Items panel.\n\n\nWe now just need to add a second legend for our Borough map. If we had standardised our values across our two maps, then we would only need to use one legend. However, in this case, as there is a difference in the values, we need to have two legends.\n\nRepeat the process as above to add a Legend for our LSOA map.\n\nRemember to re-title the Legend to make it more legible/informative.\nMatch the same formatting for a clean look.\n\nOnce complete, lock these two items in the Items panel as well.\nNow we have our two maps ready, we can add our main map elements. Using the tools on the left-hand tool bar:\n\nAdd a scale bar: use the Item Properties to adjust the Style, number of segments, font, etc.\nAdd a north arrow: draw a box to generate the arrow and then use the Item Properties to adjust..\nAdd a title at the top of the page, and subtitles above the individual maps.\nFinally add a box detailing our data sources, you can copy and paste the following: Contains National Statistics data © Crown copyright and database right [2021] (Open Government Licence). Contains Ordnance Survey data © Crown copyright and database right [2021]. Crime data obtained from data.police.uk (Open Government Licence).\n\n\nOnce you have added these properties in, you should have something that looks a little like this:\n\n\n\n\n\nFigure 6: Crime rates in London Boroughs and LSOAs. [Enlarge image]\n\n\n\n\nThe only thing outstanding is to export our map to a file. Go to Layout -&gt; Export as Image and then save it in your maps folder as London-2021-crime-rate.png.\n\n\n\n\n\n\nLooking at the maps you have created, how does your perception of crime (and its distribution) in London vary at different scales?\n\nAt the moment, we have looked at the crime rate as an amount, therefore we use a sequential colour scheme that shows, predominantly, where the crime rate is the highest. As an alternative, we could use a diverging colour scheme that could show us where the crime rate is lower and/or higher than a critical mid-point, such as the average crime rate across the Boroughs and LSOAs.\n\nCreate a map of crime in London, at both the Borough and LSOA level that shows for each of these administrative geographies the percentage difference from the overall mean crime rate.\n\n\n\n\n\n\n\n\nYou will need to start by calculating the average crime rate for both datasets and subsequently calculate the difference from these values for each geography.\nAll calculations can be done using the field calculator in QGIS, but you might have to think through writing the right expression.\n\n\n\n\n\n\n\nThat is us all done. Remember to save your project."
  },
  {
    "objectID": "03-cartography.html#slides-w03",
    "href": "03-cartography.html#slides-w03",
    "title": "1 Cartography and Visualisation",
    "section": "",
    "text": "The slides for this week’s lecture can be downloaded here: [Link]"
  },
  {
    "objectID": "03-cartography.html#reading-w03",
    "href": "03-cartography.html#reading-w03",
    "title": "1 Cartography and Visualisation",
    "section": "",
    "text": "Longley, P. et al. 2015. Geographic Information Science & Systems, Chapter 4: Georeferencing. [Link]\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 11: Cartography and Map Production. [Link]\nWong, D. 2009. Modifiable Areal Unit Problem. International Encyclopedia of Human Geography 169-174. [Link]\n\n\n\n\n\nLongley, P. et al. 2015. Geographic Information Science & systems, Chapter 12: Geovisualization. [Link]\nUsery, L. and Seong, J. 2001. All equal-area map projections are created equal, but some are more equal than others. Cartography and Geographic Information Science 28(3): 183-194. [Link]"
  },
  {
    "objectID": "03-cartography.html#crime-in-london-i",
    "href": "03-cartography.html#crime-in-london-i",
    "title": "1 Cartography and Visualisation",
    "section": "",
    "text": "Over the next few weeks, we will explore the spatial patterns of crime across London from a spatial perspective. Reid et al. (2018) suggest:\n\nSpatial analysis can be employed in both an exploratory and well as a more confirmatory manner with the primary purpose of identifying how certain community or ecological factors (such as population characteristics or the built environment) influence the spatial patterns of crime.\n\nAgainst this background, we are actually going to answer a very simple question today: does our perception of crime rates (and its distribution) in London vary at different scales? Here we are looking to test whether we would make the ecological fallacy mistake of assuming patterns at the LSOA level are the same at the Borough level by looking to directly account for the impact of the Modifiable Area Unit Problem within our results. Here we will be looking specifically at a specific type of crime: Theft from a person.\n\n\n\n\n\n\nThe datasets you will create in this practical will be used in other practicals, so make sure to follow every step and export your data to your data folder at the end of the practical.\n\n\n\n\n\nFor our crime data, we will use data directly from the Police Data Portal, which you can find at https://data.police.uk/. This Data Portal allows you to access and generate tabular data for crime recorded in the UK across different the different Police Forces since 2017.\n\n\n\n\n\n\nIn the United Kingdom, there are 45 territorial police forces (TPF) and 3 special police forces (SPF). Each TPF covers a specific area in the UK (e.g. the “West Midlands Police Force”), whilst the SPFs are cross-jurisdiction and cover specific types of crime, such as the British Transport Police. Therefore, when we want to download data for a specific area, we need to know which Police Force covers our area interest.\n\n\n\nWhen you look to download crime data for London, there are two territorial police forces working within the city and its greater metropolitan area:\n\nThe Metropolitan Police Force, which covers Greater London.\nThe City of London Police, which covers the City of London.\n\n\n\n\nWe know that if we want to study a phenomena like crime and aggregate it to an areal unit, we will need to normalise this by our some denominator (e.g. population). Fortunately, we already sorted out our 2021 LSOA population datasets last week (i.e. LSOA2021_London.gpkg).\nIn addition to our LSOA level dataset, we also want to generate a similar dataset for our London Boroughs, utilising the same approach as last week by joining our population table data to Borough spatial data and creating a Borough2021_London.gpkg file.\n\n\n\nAs outlined above, to get going with our analysis, we need to download both population and spatial data for our Boroughs as well as the reported locations of criminal activity, theft specifically, in London in 2021.\n\n\nNormally, we would now head to the Police Data Portal and download our crime data. However, the manual processing that is required is too exhaustive to do manually and far easier to do using programming. As such you can download a pre-filtered spreadsheet below. Unzip the file and copy the csv into a new folder in your raw data folder called: crime.\n\n\n\nFile\nType\nLink\n\n\n\n\nTheft from persons in 2021\ncsv\nDownload\n\n\n\n\n\n\n\n\n\nWhen mapping the data from the provided longitude and latitude coordinates, it is important to know that these locations represent the approximate location of a crime — not the exact place that it happened. This displacement occurs to preserve anonymity of the individuals involved. The process by how this displacement occurs is standardised. There is a list of anonymous map points to which the exact location of each crime is compared against this master list to find the nearest map point. The co-ordinates of the actual crime are then replaced with the co-ordinates of the map point. Each map point is specifically chosen to avoid associating that point with an exact household.\n\n\n\n\n\n\nA lot of data about London is collated by the Greater London Authority (GLA) and made available through the London Datastore. Whereas some of the data is relatively old, it is a good place to\n\nNavigate to the London Datastore: [Link].\nClick on Data in the navigation menu.\nType London Boroughs into the search field.\nDownload the GeoPackage containing the boundaries of each of London’s 33 Boroughs.\nRename the file to Boroughs_London.gpkg and move it to boundaries folder in your raw data folder.\n\n\n\n\nThe final data that we need is the total population for each of the London Boroughs in 2021. A good source for this is the 2021 Census.\n\nNavigate to the Nomis portal: [Link]\nClick on Query data in the Data Downloads panel.\nClick on Census 2021 -&gt; Topic Summaries.\nClick on TS007A - Age by five-year age bands.\nSelect Geography and set Local authorities: district / unitary (as of April 2023) to Some.\nUnder List areas within select London. Click on Tick all.\nClick on Download data at the left hand side of the screen.\nOnce the data is ready for download, download the file to your computer and save it as LondonBorough2021_population.xlsx.\nOpen the dataset in your spreadsheet editing software and extract the relevant information: the Borough names and associated population counts. Copy the data that you require into a new csv file and rename the columns as BoroughNames and pop2021.\nNow format the pop2021 column so that it is recognised as being a numeric column.\nSave the file as a new csv in your data folder: LondonBorough2021_population.csv.\n\n\n\n\n\n\n\n\nStart QGIS\nClick on Project -&gt; New. Save your project as w3-crime-analysis. Remember to save your work throughout the practical.\nBefore we get started with adding data, we will first set the Coordinate Reference System of our Project. Click on Project -&gt; Properties – CRS. In the Filter box, type British National Grid. Select OSGB 1936 / British National Grid - EPSG:27700 and click Apply. Click OK.\n\n\n\n\n\nClick on Layer -&gt; Add Layer -&gt; Add Vector Layer.\nWith File select as your source type, click on the small three dots button and navigate to your LSOA2021_London.gpkg file in your boundaries folder. Select the file, then click Add. You may need to close the box after adding the layer.\n\nWe now need to create our Borough population shapefile - and to do so, we need to repeat exactly the same process as last week in terms of joining our table data to our shapefile. You should now be able to do this, so we will not provide you with detailed instructions. Remember, you need to:\n\nLoad the respective Borough dataset as a Vector Layer found in your raw/boundaries/ data folder: Boroughs_London.gpkg.\nLoad the respective population dataset that you just created as a Delimited Text File Layer. Remember the settings, including no geometry!\nJoin the two datasets together using the Join tool in the Borough dataset Properties box. Remember which fields to use, which to add, and to remove the prefix.\nExport your joined dataset into a new dataset within your data folder as: Boroughs_London_Pop2021.gpkg.\nMake sure this dataset is loaded into your Layers / Added to the map.\nRemove the original Borough and population data layers.\n\n\n\n\n\n\n\nBecause the population file that we downloaded does not contain Borough codes, we need to use the Borough names to join the two files together. Whilst it works here and we can easily manually check whether the join was succesful because there are only 33 records, codes are preferred as there is much less room for error and incomplete joins. This means it is often worth it to spend a bit more time and find these codes over relying on names.\n\n\n\nWe will now load and map our crime data. We will load this data using the Delimited Text File Layer option you would have used just now to load the Borough population, but this time we will be adding point coordinates to map our crime data as points.\n\nClick on Layer -&gt; Add Layer -&gt; Add Delimited Text File Layer.\n\nClick on the three dots button next to File Name and navigate to your crime-theft-2021-london.csv in your raw/crime folder.\nClick on the .csv file of this dataset and click Open.\nYour file format should be set to csv. In Record and Fields Options tick Decimal separator is comma, First record has field names, Detect field types and Discard empty fields.\nUnder Geometry Definition, select Point coordinates and set the X field to Longitude and the Y field to Latitude. The Geometry CRS should be: EPSG:4326 - WGS84. Click Add.\n\n\n\n\n\n\n\n\nWhen you click Add, you should have gotten a pop-up from QGIS asking about transformations. Transformations are algorithms that convert data from one CRS to another. QGIS knows that the Project CRS is British National GRid but the Layer you are trying to add has a WGS84 CRS. QGIS is asking you what transformation it should use to project the Layer in the Project CRS. This is one of the key strengths of QGIS: it can project data “on the fly”. What this means is that QGIS will automatically convert all Layers to the Project CRS once it knows which transformation you would like to use so that they will all be rendered in the correct position with respect to each other. More details on this can be found in QGIS’ user manual section on working with projections.\n\n\n\n\nClick OK to accept QGIS’ suggested on-the-fly projection. You should now see your crime dataset displayed on the map.\n\n\n\n\n\n\nFigure 1: Borough map with crime data. [Enlarge image]\n\n\n\n\n\nWe can test the ‘temporary’ nature of the projection by looking at the CRS of the crime-theft-2021-london layer. Right-click on the layer then select Properties -&gt; Information and then look at the associated CRS. You should see that the CRS of the layer is still WGS84.\n\nWe want to make sure our analysis is as accurate and efficient as possible, so it is best to reproject our data into the same CRS as our administrative datasets, i.e. British National Grid. This also means we will have the dataset to use in other projects, just in case.\n\nBack in the main QGIS window, click on Vector -&gt; Data Management Tools -&gt; Reproject Layer. Fill in the parameters as follows:\n\nInput Layer: crime-theft-2021-london\nTarget CRS: Project CRS: EPSG: 27700\nReprojected: Click on the three buttons and Save to GeoPackage to create a new data file.\nSave it in your raw/crime folder as crime-theft-2021-london-prj.gpkg, using theft2021 as Layer Name.\nClick Run. You should now see the new data layer added to your project. You can now close the Reproject Layer tool.\n\nYou can now also remove the original crime-theft-2021-london dataset, only keeping the reprojected version.\n\n\n\n\nThe next step of our analysis is incredibly simple - as QGIS has an in-built tool for us to use. We will use the Count Points in Polygons in the Analysis toolset for Vector data to count how many crimes have occurred in our LSOAs and our Boroughs. We will then have our count statistic which we will need to normalise by our population data to create a crime rate statistic.\n\nClick on Vector -&gt; Analysis Tools -&gt; Count Points in Polygons.\nWithin the toolbox, select the parameters as follows:\n\nPolygons: Boroughs_London_Pop2021\nPoints: theft2021 (Note how both our data layers state the same CRS!)\nNo weight field or class field\nCount field names: theft2021\nClick on the three dot button and Save to GeoPackage: output -&gt; Borough2021_crime.gpkg, with borough-theft2021 as Layer Name.\n\nClick Run and Close the box. You should now see an Output layer added to your Layers box. Rename the layer to borough-theft2021.\nRight-click on the borough-theft2021 layer and open the Attribute Table. You should now see a theft2021 column next to your pop2021 column. You can look through the column to see the different levels of crime in the each Borough. You can also sort the column, from small to big, big to small, like you would do in a spreadsheet software.\n\nWhilst it is great that we have got our theft2021, what we actually need is a crime rate to account for the different population sizes across the Boroughs. To get our crime rate statistic, we are going to do our first bit of table manipulation in QGIS.\n\nWith the Attribute Table of your borough-theft2021 layer still open, click on the pencil icon at the top left corner. This pencil switches on the Editing mode.\n\n\n\n\n\n\n\nThe Editing mode allows you to edit both the Attribute Table values and the geometry of your data. When it comes to the Attribute Table, it means you can directly edit existing values in the table or create and add new fields to the table. Whilst you can actually do the latter outside of the Editing mode, this Editing mode means you can reverse any edits you make and they are not permanent just in case you make a mistake. Using the Editing mode is the safest approach to editing your table, however, it might not always be the approach you use when generating new fields.\n\n\n\n\nWhilst in the Editing mode, click on New Field button (hotkeys: ctrl + w or cmd + w and fill in the Field Parameters as follows:\n\nName: crime-rate\nComment: leave blank\nType: Decimal number\n\nClick OK. You should now see a new field added to our Attribute Table.\n\n\n\n\n\n\n\nUnderstanding how to add new fields and their parameters rely on you understanding the different data types we covered last week - and thinking through what sort of data type your field needs to contain.\n\n\n\nThe empty field has NULL populated for each row - so we need to find a way to give our Boroughs some crime rate data. To do this, we will calculate a simple Crime Rate using the Field Calculator tool provided by QGIS within the Attribute Table. We will create a crime rate that details the number of crimes per 10,000 people in the Borough.\n\nWhilst still in the Editing mode, click on the Abacus button (ctrl + i or cmd + i), which is known as the Field Calculator.\nIn the Field Calculator window:\n\nCheck the Update existing field box.\nUse the drop-down to select the crime-rate field.\nIn the Expression editor, add the following expression: ( “theft2021” / “pop2021” ) * 10000\nOnce done, click OK.\n\nClick on the Save button to save these edits. Click again on the Pencil button to exit Editing mode.\n\n\n\n\n\n\n\nThe crime-rate is stored as a decimal as this is required for the calculation to succeed, but ultimately you cannot have half a crime. You can transform the decimal number to an integer by forcing the crime-rate column to a new field using the Field Calculator using Editing mode again. Instead of ticking the Update existing field box you would now keep the Create a new field box ticked. Name the new field crime-rate-int, make sure the Output field type is set to Whole number (integer), and use the following expression to create a new field with an integer value: to_int(“crime-rate”). Save your changes by clicking on the Save button.\n\n\n\n\nWe now have our Borough crime rate dataset ready for mapping. We just now need to repeat this process to have our LSOA dataset. So, add the LSOA2021_London.gpkg file to your project and repeat the above process to create a crime-rate and crime-rate-int column within the LSOA dataset as well. After reordering some of the layers, your screen should look something like this:\n\n\n\n\n\n\nFigure 2: QGIS view containing crime data layers for both the London Boroughs and LSOAs. [Enlarge image]\n\n\n\n\n\n\n\nNow you have both datasets ready, it is time to style the maps. Remember to use the Properties box to symbolise your mapss. Think through using an appropriate colour scheme - perhaps have a look at the online colorbrewer 2.0 for inspiratoin if you do not want to use the default settings. Once you are happy with their symbolisation, we can turn them into proper publishable maps using QGIS’s Print Layout.\n\n\n\n\n\nFigure 3: An example of how your maps could have been symbolised. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nIf you have used ArcMap before, Print Layout is similar to switch the view of your map canvas to a print layout within the main window but in QGIS’s case, it loads up a new window.\n\n\n\n\nFrom the main QGIS window, click on Project -&gt; New Print Layout. In the small box that first appears, call your new print layout: crime-map-borough-lsoa. A new window should open up.\n\nIn the window that opens up, you are presented with a blank canvas. On the left-hand side of the window, you will find buttons to add print layout items: the current QGIS map canvas, text labels, images, legends, scale bars, basic shapes, arrows, attribute tables and HTML frames. In this toolbar you also find buttons to navigate, zoom in on an area and pan the view on the layout a well as buttons to select any layout item and to move the contents of the map item.\nOn the right-hand side of the window, you will find two set of panels. The upper one holds the panels Items and Undo History and the lower holds the panels Layout, Item properties and Atlas generation. Today, we are most interested in the bottom panel as Layout will control the overall look of our map, whilst Item properties will allow us to customise the elements, such as Title or Legend, that we may add to our map.\nIn the bottom part of the window, you can find a status bar with mouse position, current page number, a combo box to set the zoom level and the number of selected items if applicable. In the upper part of the window, you can find menus and other toolbars. All print layout tools are available in menus and as icons in a toolbar.\n\n\n\n\n\n\nWorking with maps in the Print Layout is simple but it can be a little fiddly and, to make more complicated maps, requires you to understand how to use certain aspects of Print Layout, such as locking items. If you get stuck, have a look at the training manual or the detailed documentation.\n\n\n\nTo start with creating a map, you use the Add Map tool to draw a box in which a snapshot of the current active map you have displayed in your QGIS main window will be loaded.\n\nClick on the Add Map tool and draw a box in the first half of our map to load our current map. Note, you can move your map around and resize the box simply by clicking on it as you would in Word etc.\n\n\n\n\n\n\nFigure 4: Current active map in the Print Layout. [Enlarge image]\n\n\n\n\n\nWith your map selected, head to the Items Properties panel and look for the Scale parameter.\n\nHere we can manually edit the scale of our map to find the right zoom level.\nHave a go at entering different values and see what level you think suits the size of your map.\nKeep a note of the scale, as we will need this for the second map we will add to our map layout - our LSOA map.\nNext, in the same panel, if you would like, you can add a frame to your map - this will draw a box (of your selected formatting) around the current map.\nIn the same panel, note down the size of your map - we want to make sure the next map we add is of the same size.\nNote, if you need to move the position of the map within the box, look for the Move Item Content tool on the left-hand side toolbar.\nOnce you are done, finally click on the Lock Layers and Lock Style for layers.\n\n\nBy locking the Layers (and their symbology) in our map, it means we can change our data/map in our main QGIS window without changing the map in the Print Layout - as we will see in a minute when adding our Borough crime rate map. If we do not lock our layers, our map would automatically update to whatever is next displayed in the main QGIS window.\n\nClick on the Add Legend tool and again, draw a box on your map in which your legend will appear.\n\nAs you will see, your Legend auto-generates an entry for every layer in our Layers box in the main QGIS application:\nIn Item Properties, uncheck auto-update - this stops QGIS automatically populating your legend and enables you to customise your legend.\nFirst, let us rename our Layer in the legend to: Borough Crime Rate (per 10,000 people).\nNext, we want to remove all other Layers, using the - button\nWe can also customise the Legend further, including type, size and alignment of font - go ahead and style your legend as you would prefer.\nMove the Legend to an appropriate part of the layout near your Borough crime rate map - resize if necessary.\n\n\n\n\n\n\n\nFigure 5: The automatically generated legend for your map. [Enlarge image]\n\n\n\n\nNow we are finished with the Borough map, we want to make sure we do not change any aspect of its layout. To do so, we need to lock both the Map and Legend in the Items panel - this prevents us accidentally moving items in our layout. Note, this is different to locking your layers in the Items Properties as we did earlier.\n\nIn the Items panel, click the Lock check box for both our map and legend.\nIn the main QGIS window, uncheck your borough-theft2021 layer and make sure your lsoa-theft2021 layer is now visible.\nReturn to the Print Layout window annd repeat the process above of adding a map to the window - this time, you should now see your LSOA map loaded in the box (and you should see no changes to your Borough map).\n\nPlace your LSOA map next to your LSOA map - use the snap grids to help.\nSet your LSOA map to the same zoom level as your Borough map.\nMake sure your LSOA map is the same size as your Borough map.\nAdd a frame if you want.\nLock your layer and its symbology in the Items Properties once ready and the lock your layer in the Items panel.\n\n\nWe now just need to add a second legend for our Borough map. If we had standardised our values across our two maps, then we would only need to use one legend. However, in this case, as there is a difference in the values, we need to have two legends.\n\nRepeat the process as above to add a Legend for our LSOA map.\n\nRemember to re-title the Legend to make it more legible/informative.\nMatch the same formatting for a clean look.\n\nOnce complete, lock these two items in the Items panel as well.\nNow we have our two maps ready, we can add our main map elements. Using the tools on the left-hand tool bar:\n\nAdd a scale bar: use the Item Properties to adjust the Style, number of segments, font, etc.\nAdd a north arrow: draw a box to generate the arrow and then use the Item Properties to adjust..\nAdd a title at the top of the page, and subtitles above the individual maps.\nFinally add a box detailing our data sources, you can copy and paste the following: Contains National Statistics data © Crown copyright and database right [2021] (Open Government Licence). Contains Ordnance Survey data © Crown copyright and database right [2021]. Crime data obtained from data.police.uk (Open Government Licence).\n\n\nOnce you have added these properties in, you should have something that looks a little like this:\n\n\n\n\n\nFigure 6: Crime rates in London Boroughs and LSOAs. [Enlarge image]\n\n\n\n\nThe only thing outstanding is to export our map to a file. Go to Layout -&gt; Export as Image and then save it in your maps folder as London-2021-crime-rate.png."
  },
  {
    "objectID": "03-cartography.html#assignment-w03",
    "href": "03-cartography.html#assignment-w03",
    "title": "1 Cartography and Visualisation",
    "section": "",
    "text": "Looking at the maps you have created, how does your perception of crime (and its distribution) in London vary at different scales?\n\nAt the moment, we have looked at the crime rate as an amount, therefore we use a sequential colour scheme that shows, predominantly, where the crime rate is the highest. As an alternative, we could use a diverging colour scheme that could show us where the crime rate is lower and/or higher than a critical mid-point, such as the average crime rate across the Boroughs and LSOAs.\n\nCreate a map of crime in London, at both the Borough and LSOA level that shows for each of these administrative geographies the percentage difference from the overall mean crime rate.\n\n\n\n\n\n\n\n\nYou will need to start by calculating the average crime rate for both datasets and subsequently calculate the difference from these values for each geography.\nAll calculations can be done using the field calculator in QGIS, but you might have to think through writing the right expression."
  },
  {
    "objectID": "03-cartography.html#byl-w03",
    "href": "03-cartography.html#byl-w03",
    "title": "1 Cartography and Visualisation",
    "section": "",
    "text": "That is us all done. Remember to save your project."
  },
  {
    "objectID": "00-index.html",
    "href": "00-index.html",
    "title": "GEOG0030 Geocomputation 2023-2024",
    "section": "",
    "text": "This page is currently unfinished and receiving updates for the 2023-2024 academic year. Refer to the GEOG0030: Geocomputation 2022-2023 workbook for the 2022-2023 content.\n\n\n\n\n\nWelcome to Geocomputation. This module will introduce you both to the principles of spatial analysis as well as provide you with a comprehensive introduction to the use of programming. Over the next ten weeks, you will learn about the theory, methods and tools of spatial analysis through relevant case studies. We will start by using QGIS before moving to the R programming language. You will learn how to find, manage and clean spatial, demographic and socioeconomic datasets, and then analyse them using core spatial and statistical analysis techniques.\n\n\n\nMoodle is the central point of contact for GEOG0030 and it is where all important information will be communicated such as key module and assessment information. This workbook contains links to all reading material as well as the content of all computer tutorials\n\n\n\nThe topics covered over the next ten weeks are:\n\n\n\nWeek\nSection\nTopic\n\n\n\n\n1\nFoundational Concepts\nGeocomputation: An Introduction\n\n\n2\nFoundational Concepts\nGIScience and GIS software\n\n\n3\nFoundational Concepts\nCartography and Visualisation\n\n\n4\nFoundational Concepts\nProgramming for Data Analysis\n\n\n5\nFoundational Concepts\nProgramming for Spatial Analysis\n\n\n\nReading week\nReading week\n\n\n6\nCore Spatial Analysis\nAnalysing Spatial Patterns I: Geometric Operations and Spatial Queries\n\n\n7\nCore Spatial Analysis\nAnalysing Spatial Patterns II: Spatial Autocorrelation\n\n\n8\nCore Spatial Analysis\nAnalysing Spatial Patterns III: Point Pattern Analysis\n\n\n9\nAdvanced Spatial Analysis\nRasters, Zonal Statistics and Interpolation\n\n\n10\nAdvanced Spatial Analysis\nTransport Network Analysis\n\n\n\n\n\n\nSpatial analysis can yield fascinating insights into geographical relationships, albeit at times it can be challenging, particularly when we combine this with learning how to program at the same time. You will most likely encounter many error messages, experience software crashes, and spend hours to identify bugs in your code. However, the rewards of learning how to programmatically solve complex spatial problems will be very much worth it in the end.\nIf you need specific assistance with this course please:\n\nAsk a question at the end of a lecture or during the computer practical.\nCheck the Moodle assessment tab for queries relating to this module’s assessment.\nAttend the Department’s Coding Therapy sessions that are run on a weekly basis.\nAttend the scheduled Geocomputation Additional Support Hours.\n\nIf after pursuing all these avenues you still need help, you can book a slot in our Academic Support and Feedback hours. You can use this time to discuss a geographical concept in relation to the material, assessment or for any personal matters relevant to the completion of the module.\n\n\n\nThis year’s workbook is updated from and compiled using:\n\nThe GEOG0030: Geocomputation 2022-2023 workbook by Justin van Dijk\nThe GEOG0030: Geocomputation 2021-2022 workbook by Justin van Dijk\nThe GEOG0030: Geocomputation 2021-2021 workbook by Jo Wilkin\n\nThis year’s workbook also takes inspiration and design elements from:\n\nThe Spatial Data Science for Social Geography course by Martin Fleischmann\n\n\n\n\n\n\n\n\n\n\nThis year’s version features the following major updates:\n\nFull rewrite of the workbook using Quarto.\nUpdate to using 2021 Census data where possible.\nRewriting sections relying on deprecated and outdated core packages: raster, rgdal, rgeos.\nMove to GeoPackage over shapefile where possible.\nUpdate to use native pipe |&gt; over dplyr’s implementation (%&gt;%).\nAdd dark mode switch."
  },
  {
    "objectID": "00-index.html#welcome",
    "href": "00-index.html#welcome",
    "title": "GEOG0030 Geocomputation 2023-2024",
    "section": "",
    "text": "Welcome to Geocomputation. This module will introduce you both to the principles of spatial analysis as well as provide you with a comprehensive introduction to the use of programming. Over the next ten weeks, you will learn about the theory, methods and tools of spatial analysis through relevant case studies. We will start by using QGIS before moving to the R programming language. You will learn how to find, manage and clean spatial, demographic and socioeconomic datasets, and then analyse them using core spatial and statistical analysis techniques."
  },
  {
    "objectID": "00-index.html#moodle",
    "href": "00-index.html#moodle",
    "title": "GEOG0030 Geocomputation 2023-2024",
    "section": "",
    "text": "Moodle is the central point of contact for GEOG0030 and it is where all important information will be communicated such as key module and assessment information. This workbook contains links to all reading material as well as the content of all computer tutorials"
  },
  {
    "objectID": "00-index.html#module-overview",
    "href": "00-index.html#module-overview",
    "title": "GEOG0030 Geocomputation 2023-2024",
    "section": "",
    "text": "The topics covered over the next ten weeks are:\n\n\n\nWeek\nSection\nTopic\n\n\n\n\n1\nFoundational Concepts\nGeocomputation: An Introduction\n\n\n2\nFoundational Concepts\nGIScience and GIS software\n\n\n3\nFoundational Concepts\nCartography and Visualisation\n\n\n4\nFoundational Concepts\nProgramming for Data Analysis\n\n\n5\nFoundational Concepts\nProgramming for Spatial Analysis\n\n\n\nReading week\nReading week\n\n\n6\nCore Spatial Analysis\nAnalysing Spatial Patterns I: Geometric Operations and Spatial Queries\n\n\n7\nCore Spatial Analysis\nAnalysing Spatial Patterns II: Spatial Autocorrelation\n\n\n8\nCore Spatial Analysis\nAnalysing Spatial Patterns III: Point Pattern Analysis\n\n\n9\nAdvanced Spatial Analysis\nRasters, Zonal Statistics and Interpolation\n\n\n10\nAdvanced Spatial Analysis\nTransport Network Analysis"
  },
  {
    "objectID": "00-index.html#troubleshooting",
    "href": "00-index.html#troubleshooting",
    "title": "GEOG0030 Geocomputation 2023-2024",
    "section": "",
    "text": "Spatial analysis can yield fascinating insights into geographical relationships, albeit at times it can be challenging, particularly when we combine this with learning how to program at the same time. You will most likely encounter many error messages, experience software crashes, and spend hours to identify bugs in your code. However, the rewards of learning how to programmatically solve complex spatial problems will be very much worth it in the end.\nIf you need specific assistance with this course please:\n\nAsk a question at the end of a lecture or during the computer practical.\nCheck the Moodle assessment tab for queries relating to this module’s assessment.\nAttend the Department’s Coding Therapy sessions that are run on a weekly basis.\nAttend the scheduled Geocomputation Additional Support Hours.\n\nIf after pursuing all these avenues you still need help, you can book a slot in our Academic Support and Feedback hours. You can use this time to discuss a geographical concept in relation to the material, assessment or for any personal matters relevant to the completion of the module."
  },
  {
    "objectID": "00-index.html#acknowledgements",
    "href": "00-index.html#acknowledgements",
    "title": "GEOG0030 Geocomputation 2023-2024",
    "section": "",
    "text": "This year’s workbook is updated from and compiled using:\n\nThe GEOG0030: Geocomputation 2022-2023 workbook by Justin van Dijk\nThe GEOG0030: Geocomputation 2021-2022 workbook by Justin van Dijk\nThe GEOG0030: Geocomputation 2021-2021 workbook by Jo Wilkin\n\nThis year’s workbook also takes inspiration and design elements from:\n\nThe Spatial Data Science for Social Geography course by Martin Fleischmann"
  },
  {
    "objectID": "00-index.html#major-updates",
    "href": "00-index.html#major-updates",
    "title": "GEOG0030 Geocomputation 2023-2024",
    "section": "",
    "text": "This year’s version features the following major updates:\n\nFull rewrite of the workbook using Quarto.\nUpdate to using 2021 Census data where possible.\nRewriting sections relying on deprecated and outdated core packages: raster, rgdal, rgeos.\nMove to GeoPackage over shapefile where possible.\nUpdate to use native pipe |&gt; over dplyr’s implementation (%&gt;%).\nAdd dark mode switch."
  },
  {
    "objectID": "01-introduction.html",
    "href": "01-introduction.html",
    "title": "1 Geocomputation: An Introduction",
    "section": "",
    "text": "This week’s lecture provided you with a thorough introduction on Geocomputation, outlining how and why it is different to a traditional GIScience course. We set the scene for the remainder of the module and explained how the foundational concepts that you will learn in the first half of term sit within the overall module. This week we start easy by setting up our work environment and make sure that we can access the software that we will need over the coming weeks.\n\n\nThe slides for this week’s lecture can be downloaded here: [Link]\n\n\n\n\n\n\nBrundson, C. and Comber, A. 2020. Opening practice: Supporting reproducibility and critical spatial data science. Journal of Geographical Systems 23: 477–496. [Link]\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 1: Geographic Information: Science, Systems, and Society. [Link]\nSingleton, A. and Arribas-Bel, D. 2019. Geographic Data Science. Geographical Analysis. [Link]\n\n\n\n\n\nMiller, H. and Goodchild, M. 2015. Data-driven geography. GeoJournal 80: 449–461. [Link]\nGoodchild, M. 2009. Geographic information systems and science: Today and tomorrow. Annals of GIS 15(1): 3-9. [Link]\nWorobey, M. et al. 2022. The Huanan Seafood Wholesale Market in Wuhan was the early epicenter of the COVID-19 pandemic. Science 377(6609): 951-959. [Link]\n\n\n\n\n\nOver the next few weeks, we will be taking a closer look at many of the foundational concepts that will ultimately enable you to confidently and competently analyse spatial data using both programming and GIS software. You will further learn how to plan, structure and conduct your own spatial analysis using programming – whilst making decisions on how to best present your work, which is a crucial aspect of any type of investigation but of particular relevance to your dissertation.\n\n\n\nThis module primarily uses the R programming language, although we start by using QGIS in the next two weeks to give you a basic foundation in the principles of spatial analysis.\n\n\n\n\n\n\nPlease follow the instructions below to install both R and QGIS onto your own personal computer. If you cannot install the software on your personal computer or you are not planning to bring your own laptop to the computer practicals, please refer to the UCL Desktop and RStudio Server section below. Please make sure that you have access to a working installation of QGIS and R (including relevant packages) before the first hands-on practical session next week.\n\n\n\n\n\nQGIS is an open-source graphic user interface GIS with many community developed add-on packages (or plugins) that provide additional functionality to the software. You can download and install QGIS on your personal machine by going to the QGIS website: [Link].\n\n\n\n\n\n\nWe recommend installing the Long Term Release (QGIS 3.28 LTR) as this version should be the most stable version. For Windows users: be aware that the QGIS installation can be a little slow.\n\n\n\nAfter installation, start QGIS to see if the installation was successful.\n\n\n\nR is both a programming language and software environment - in the form of RStudio - originally designed for statistical computing and graphics. R’s great strength is that it is open-source, can be used on any computer operating system, and is free for anyone to use and contribute to. Because of this, it is rapidly becoming the statistical language of choice for many academics and has a very large user community with people constantly contributing new packages to carry out all manner of statistical, graphical, and importantly for us, geographical tasks.\nInstalling R takes a few relatively simple steps involving two programmes. First there is the R programme itself. Follow these steps to get it installed on your computer:\n\nNavigate in your browser to your nearest CRAN mirror: [Link]\nIf you use a Windows computer, click on Download R for Windows. Then click on base. Download and install R 4.3.x for Windows. If you use a Mac computer, click on Download R for macOS and download and install R-4.3.x.arm64.pkg for Apple silicon Macs and R-4.3.x.x86_64.pkg for older Intal Macs.\n\nThat is it! You now have installed the latest version of R on your own machine. However, to make working with R a little bit easier we also need to install something called an Integrated Development Environment (IDE). We will use RStudio:\n\nNavigate to the official webpage of RStudio: [Link]\nDownload and install RStudio Desktop on your computer (free version!)\n\nAfter this, start RStudio to see if the installation was successful and no errors are shown after start up.\n\n\n\nAs an alternative to installing QGIS and R with RStudio onto your personal device, there are some other options. Firstly, both programmes are available through Desktop@UCL Anywhere as well as all UCL computers on campus. In case of R, there is also an RStudio server version available which you can access through your web browser: [Link]\nYou should be able to log in with your normal UCL username and password. After logging in, you should see the RStudio interface appear.\n\n\n\n\n\nFigure 1: The RStudio Server interface. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nIf it is the first time you log on to RStudio server you may only see the RStudio interface appear once you have clicked on the start a new session button. More importantly: if you are not on campus, RStudio server will only work with an active Virtual Private Network (VPN) connection that links your personal computer into UCL’s network. Details on setting up a VPN connection can be found in UCL’s VPN connection guides: [Link]\n\n\n\n\n\n\nNow we have installed or have access to QGIS and R, we need to customise R. Many useful R function come in packages, these are free libraries of code written and made available by other by R users. This includes packages specifically developed for data cleaning, data wrangling, visualisation, mapping, and spatial analysis. To save us some time, we will install all R packages that we will need over the next ten weeks in one go. Now copy and paste the following code into the console window. You can execute the code by hitting Enter. This may take a while.\n\n# install packages\ninstall.packages(c(\"tidyverse\", \"sf\", \"tmap\", \"terra\", \"dodgr\"))\n\n\n\n\n\n\n\nEven if you have used R or RStudio Server before and already installed some of the packages in the above list, do re-install all packages by running the code above to make sure you have the latest versions. Legacy installations that have not been updated may lay lead to problems when going through the tutorials.\n\n\n\nOnce you have installed the packages, we need to check whether we can in fact load them into our R session. Copy and paste the following code into the console, and execute by hitting Enter again.\n\n# load packages\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(tmap)\nlibrary(terra)\nlibrary(dodgr)\n\nYou will see some information printed to your console but as long as you do not get a message that is similar to Error: package or namespace load failed for &lt;packagename&gt; or Error: package '&lt;packagename&gt;' could not be loaded all should be fine.\n\n\n\nArcGIS Pro is the main commercial GIS software that you may have already used or seen/heard about through other modules or even job adverts. We do not use ArcGIS Pro in our Practicals for several reasons:\n\nComputing requirements for ArcGIS Pro are substantial and it only operates on the Windows Operating System. For Mac or Linux users, using ArcGIS Pro would require using either a Virtual Machine, Docker Installation, or running a copy of Windows OS on a separate partition of your hard drive.\nArcGIS is proprietary software, which means you need a license to use the software. For those of us in education, the University covers the cost of this license, but when you leave, you will need to pay for a personal license to continue using the software and repeat any analysis you have used the software for.\nWhilst ArcPro can use pure Python (and even R) as a programming language within it through scripts and notebooks, it primarily relies on its own ArcPy and ArcGIS API for Python packages to run the in-built tools and analytical functions. To use these packages, you still need a license which makes it difficult to share your code with others if they do not have their own ArcGIS license.\n\nRecent developments in the ArcPro software, however, does make it an attractive tool for spatial data science and quantitative geography: it has cross-user functionality, from data analysts who like to use a tool called Notebooks for their code development, to those focused more on cartography and visualisation with in-built bridges to Adobe’s Creative Suite. We therefore do not want to put you off looking into ArcGIS in the future, but for this course, we want to ensure the reproducibility of your work.\n\n\n\n\nYou should now be all ready to go with the computer practicals the coming week. Nice and easy. That is it for this week!"
  },
  {
    "objectID": "01-introduction.html#slides-w01",
    "href": "01-introduction.html#slides-w01",
    "title": "1 Geocomputation: An Introduction",
    "section": "",
    "text": "The slides for this week’s lecture can be downloaded here: [Link]"
  },
  {
    "objectID": "01-introduction.html#reading-w01",
    "href": "01-introduction.html#reading-w01",
    "title": "1 Geocomputation: An Introduction",
    "section": "",
    "text": "Brundson, C. and Comber, A. 2020. Opening practice: Supporting reproducibility and critical spatial data science. Journal of Geographical Systems 23: 477–496. [Link]\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 1: Geographic Information: Science, Systems, and Society. [Link]\nSingleton, A. and Arribas-Bel, D. 2019. Geographic Data Science. Geographical Analysis. [Link]\n\n\n\n\n\nMiller, H. and Goodchild, M. 2015. Data-driven geography. GeoJournal 80: 449–461. [Link]\nGoodchild, M. 2009. Geographic information systems and science: Today and tomorrow. Annals of GIS 15(1): 3-9. [Link]\nWorobey, M. et al. 2022. The Huanan Seafood Wholesale Market in Wuhan was the early epicenter of the COVID-19 pandemic. Science 377(6609): 951-959. [Link]"
  },
  {
    "objectID": "01-introduction.html#getting-started",
    "href": "01-introduction.html#getting-started",
    "title": "1 Geocomputation: An Introduction",
    "section": "",
    "text": "Over the next few weeks, we will be taking a closer look at many of the foundational concepts that will ultimately enable you to confidently and competently analyse spatial data using both programming and GIS software. You will further learn how to plan, structure and conduct your own spatial analysis using programming – whilst making decisions on how to best present your work, which is a crucial aspect of any type of investigation but of particular relevance to your dissertation."
  },
  {
    "objectID": "01-introduction.html#software",
    "href": "01-introduction.html#software",
    "title": "1 Geocomputation: An Introduction",
    "section": "",
    "text": "This module primarily uses the R programming language, although we start by using QGIS in the next two weeks to give you a basic foundation in the principles of spatial analysis.\n\n\n\n\n\n\nPlease follow the instructions below to install both R and QGIS onto your own personal computer. If you cannot install the software on your personal computer or you are not planning to bring your own laptop to the computer practicals, please refer to the UCL Desktop and RStudio Server section below. Please make sure that you have access to a working installation of QGIS and R (including relevant packages) before the first hands-on practical session next week.\n\n\n\n\n\nQGIS is an open-source graphic user interface GIS with many community developed add-on packages (or plugins) that provide additional functionality to the software. You can download and install QGIS on your personal machine by going to the QGIS website: [Link].\n\n\n\n\n\n\nWe recommend installing the Long Term Release (QGIS 3.28 LTR) as this version should be the most stable version. For Windows users: be aware that the QGIS installation can be a little slow.\n\n\n\nAfter installation, start QGIS to see if the installation was successful.\n\n\n\nR is both a programming language and software environment - in the form of RStudio - originally designed for statistical computing and graphics. R’s great strength is that it is open-source, can be used on any computer operating system, and is free for anyone to use and contribute to. Because of this, it is rapidly becoming the statistical language of choice for many academics and has a very large user community with people constantly contributing new packages to carry out all manner of statistical, graphical, and importantly for us, geographical tasks.\nInstalling R takes a few relatively simple steps involving two programmes. First there is the R programme itself. Follow these steps to get it installed on your computer:\n\nNavigate in your browser to your nearest CRAN mirror: [Link]\nIf you use a Windows computer, click on Download R for Windows. Then click on base. Download and install R 4.3.x for Windows. If you use a Mac computer, click on Download R for macOS and download and install R-4.3.x.arm64.pkg for Apple silicon Macs and R-4.3.x.x86_64.pkg for older Intal Macs.\n\nThat is it! You now have installed the latest version of R on your own machine. However, to make working with R a little bit easier we also need to install something called an Integrated Development Environment (IDE). We will use RStudio:\n\nNavigate to the official webpage of RStudio: [Link]\nDownload and install RStudio Desktop on your computer (free version!)\n\nAfter this, start RStudio to see if the installation was successful and no errors are shown after start up.\n\n\n\nAs an alternative to installing QGIS and R with RStudio onto your personal device, there are some other options. Firstly, both programmes are available through Desktop@UCL Anywhere as well as all UCL computers on campus. In case of R, there is also an RStudio server version available which you can access through your web browser: [Link]\nYou should be able to log in with your normal UCL username and password. After logging in, you should see the RStudio interface appear.\n\n\n\n\n\nFigure 1: The RStudio Server interface. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nIf it is the first time you log on to RStudio server you may only see the RStudio interface appear once you have clicked on the start a new session button. More importantly: if you are not on campus, RStudio server will only work with an active Virtual Private Network (VPN) connection that links your personal computer into UCL’s network. Details on setting up a VPN connection can be found in UCL’s VPN connection guides: [Link]\n\n\n\n\n\n\nNow we have installed or have access to QGIS and R, we need to customise R. Many useful R function come in packages, these are free libraries of code written and made available by other by R users. This includes packages specifically developed for data cleaning, data wrangling, visualisation, mapping, and spatial analysis. To save us some time, we will install all R packages that we will need over the next ten weeks in one go. Now copy and paste the following code into the console window. You can execute the code by hitting Enter. This may take a while.\n\n# install packages\ninstall.packages(c(\"tidyverse\", \"sf\", \"tmap\", \"terra\", \"dodgr\"))\n\n\n\n\n\n\n\nEven if you have used R or RStudio Server before and already installed some of the packages in the above list, do re-install all packages by running the code above to make sure you have the latest versions. Legacy installations that have not been updated may lay lead to problems when going through the tutorials.\n\n\n\nOnce you have installed the packages, we need to check whether we can in fact load them into our R session. Copy and paste the following code into the console, and execute by hitting Enter again.\n\n# load packages\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(tmap)\nlibrary(terra)\nlibrary(dodgr)\n\nYou will see some information printed to your console but as long as you do not get a message that is similar to Error: package or namespace load failed for &lt;packagename&gt; or Error: package '&lt;packagename&gt;' could not be loaded all should be fine.\n\n\n\nArcGIS Pro is the main commercial GIS software that you may have already used or seen/heard about through other modules or even job adverts. We do not use ArcGIS Pro in our Practicals for several reasons:\n\nComputing requirements for ArcGIS Pro are substantial and it only operates on the Windows Operating System. For Mac or Linux users, using ArcGIS Pro would require using either a Virtual Machine, Docker Installation, or running a copy of Windows OS on a separate partition of your hard drive.\nArcGIS is proprietary software, which means you need a license to use the software. For those of us in education, the University covers the cost of this license, but when you leave, you will need to pay for a personal license to continue using the software and repeat any analysis you have used the software for.\nWhilst ArcPro can use pure Python (and even R) as a programming language within it through scripts and notebooks, it primarily relies on its own ArcPy and ArcGIS API for Python packages to run the in-built tools and analytical functions. To use these packages, you still need a license which makes it difficult to share your code with others if they do not have their own ArcGIS license.\n\nRecent developments in the ArcPro software, however, does make it an attractive tool for spatial data science and quantitative geography: it has cross-user functionality, from data analysts who like to use a tool called Notebooks for their code development, to those focused more on cartography and visualisation with in-built bridges to Adobe’s Creative Suite. We therefore do not want to put you off looking into ArcGIS in the future, but for this course, we want to ensure the reproducibility of your work."
  },
  {
    "objectID": "01-introduction.html#byl-w01",
    "href": "01-introduction.html#byl-w01",
    "title": "1 Geocomputation: An Introduction",
    "section": "",
    "text": "You should now be all ready to go with the computer practicals the coming week. Nice and easy. That is it for this week!"
  },
  {
    "objectID": "02-GIScience.html",
    "href": "02-GIScience.html",
    "title": "1 GIScience and GIS software",
    "section": "",
    "text": "This week’s lecture introduced you to foundational concepts associated with GIScience and GIS software, with particular emphasis on the representation of spatial data and sample design. Out of all our foundational concepts you will come across in the next four weeks, this is probably the most substantial to get to grips with and has both significant theoretical and practical aspects to its learning. The practical component of the week puts some of these learnings into practice, starting with a short digitisation excercise followed by a simple visualisation of London’s population in the Census years of 2011 and 2021.\n\n\nThe slides for this week’s lecture can be downloaded here: [Link]\n\n\n\n\n\n\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 2: The Nature of Geographic Data. [Link]\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 3: Representing Geography. [Link]\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 7: Geographic Data Modeling. [Link]\n\n\n\n\n\nGoodchild, M. and Haining, R. 2005. GIS and spatial data analysis: Converging perspectives. Papers in Regional Science 83(1): 363–385. [Link]\nSchurr, C., Müller, M. and Imhof, N. 2020. Who makes geographical knowledge? The gender of Geography’s gatekeepers. The Professional Geographer 72(3): 317-331. [Link]\nYuan, M. 2001. Representing complex geographic phenomena in GIS. Cartography and Geographic Information Science 28(2): 83-96. [Link]\n\n\n\n\n\nTo get spatial features in a digital form, they need to be digitised. Let’s take a quick look in this first part of the practical at a straight-forward example of digitising the river Thames in London.\n\n\n\n\n\nFigure 1: The river Thames. [Enlarge image]\n\n\n\n\nWe are going to use a very simple online tool that allows us to create digital data and export the data we create as raw files:\n\nHead to geojson.io.\nIn the bottom left-hand corner, select Satellite Streets as your map option.\nNext, click on the Draw Linestring tool which you can find on the right hand side of the screen. You can hover over the icons to get the names of each tool.\nNow digitise the river Thames. Simply click from a starting point on the left- or right-hand side of the map, and digitise the river.\nOnce you are done, double-click your final point to end your line.\nYou can click on the line and select Info in the pop-up screen to find out how long the line is.\nYou can export your data using the Save menu.\n\n\n\n\nThe second part of this practical will introduces you to attribute joins followed by creating a choropleth map. You will be using different types of joins throughout this practical, this module in general, and probably the rest of your career, so it is incredibly important that you understand how these work.\n\n\n\n\n\n\nThe datasets you will create in this practical will be used in next week’s practical, so make sure to follow every step and save your data carefully.\n\n\n\nWhen using spatial data, there is generally a very specific workflow that you will need to go through and, believe it or not, the majority of this is not actually focused on analysing your data. One of the most often-quoted GIS-related unreferenced ‘fact’ is that anyone working with spatial data will spend 80% of their time simply finding, retrieving, managing and processing the data before any analysis can be done.\nOne of the reasons behind this need for a substantial amount of processing is that the data you often need to use is almost never in the format that you require for analysis. For example, for our investigation, there is not a ‘ready-made’ spatial population dataset (i.e. population shapefile) we can download to explore population change across England:\n\n\n\n\n\nFigure 2: A quick Google search shows that finding a shapefile of England’s population is not straightforward. [Enlarge image]\n\n\n\n\nInstead, we need to go and find the raw datasets and create the data layers that we want. As a result, before beginning any spatial analysis project, it is best-practice to think through what end product you will ultimately need for your analysis.\nA typical spatial analysis workflow usually looks something like this:\n\n\n\n\n\n\n\nStep\nAction\n\n\n\n\nidentify\nThink about the data you need to complete your analysis.\n\n\nfind\nFind the data that matches your requirements.\n\n\ndownload\nStore the data on your computer in the right folder.\n\n\nclean\nAssess whether the data needs pre-processing before moving to QGIS or R.\n\n\nload\nLoad the cleaned data into QGIS, R, or software of choice.\n\n\nprocess\nPrepare the data so that they are ready for analysis (e.g. joining, aggregating).\n\n\nanalyse\nExecute the actual analysis that you set out to do.\n\n\nvisualise\nCreate graphs and maps where appropriate.\n\n\n\nAs you can see, the analysis and visualisation parts only make up the last steps of the workflow and instead, the workflow is very top-heavy with data management.\n\n\n\n\n\n\nVery often in GIS-related courses you will be given pre-processed datasets. Because data management is an essential part of your workflow, we will clean (the majority of) our data from the get-go. This will help you understand the processes that you will need to go through in the future as you search for and download your own data as well as deal with the data first-hand before loading it into our GIS software.\n\n\n\n\n\nIn this part of the practical, we will investigate how the population in London has changed over time. Understanding population change - over time and space - is spatial analysis at its most fundamental. We can understand a lot just from where population is growing or decreasing, including thinking through the impacts of these changes on the provision of housing, education, health and transport infrastructure.\nToday we will look at population in London in the Census years of 2011 and 2021 at the Lower Super Output Area scale that we can also use within our future analysis projects.\n\n\n\n\n\n\nWe will use the population dataset we create today to normalise other datasets in the module. Why? When we record events created by humans, there is often a population bias: simply, more people in an area will by probability lead to a higher occurrence of said event, such as crime. We will look at this in greater detail next week.\n\n\n\n\n\n\nIn the UK, finding authoritative data on population and Administrative Geography boundaries is increasingly straight-forward. Over the last decade, the UK government has opened up many of its datasets as part of an Open Data precedent that began in 2010 with the creation of data.gov.uk and the Open Government Licence (the terms and conditions for using data).\n\n\n\n\n\n\nData.gov.uk is the UK government’s central database that contains open data that the central government, local authorities and public bodies publish. This includes, for example, aggregated census and health data – and even government spending. In addition to this central database, there are other authoritative databases run by the government and/or respective public bodies that contain either a specific type of data (e.g. Census data, crime data) or a specific collection of datasets (e.g. health data from the NHS, data about London). Some portals are less up-to-date than others, so it is wise to double-check with the ‘originators’ of the data to see if there are more recent versions.\n\n\n\nFor our practical, we will access data from two other authoritative data portals:\n\nFor our administrative boundaries, we will download the spatial data through the Open Geography Portal.\nFor our population data, we will download attribute data directly from the Office of National Statistics (ONS).\n\n\n\n\nBefore we download our data, it is important to establish an organised file systems that we will use throughout the module. Create a GEOG0030 folder in your Documents folder on your computer and within your GEOG0030 folder, create the following subfolders:\n\n\n\n\n\n\n\nFolder name\nPurpose\n\n\n\n\nraw\nTo store all your raw data files that have not yet been cleaned and processed.\n\n\ndata\nTo store data files that have been cleaned and processed.\n\n\noutput\nTo store all your final output data files and maps.\n\n\n\n\n\n\nWe will start by downloading the administrative geography boundaries for England and Wales:\n\nNavigate to the Open Geography Portal: [Link]\nIn the main menu go to Boundaries -&gt; Census Boundaries  -&gt; Lower Layer Super Output Areas -&gt; 2011 Boundaries.\nClick on LSOA (Dec 2011) Boundaries Generalised Clipped BGC EW V3.\nClick on Download -&gt; Download GeoPackage.\n\nRepeat the above process to also download the 2021 LSOA boundaries: Lower Layer Super Output Areas (2021) Boundaries EW BGC. Make sure you download the Generalised (20m) version.\n\n\n\n\n\n\nAdministrative geographies are a way of dividing the country into smaller sub-divisions or areas that correspond with the area of responsibility of local authorities and government bodies. These administrative sub-divisions and their associated geography have several important uses, including assigning electoral constituencies and serving as a mechanism for collecting Census data. These geographies are updated as populations evolve and as a result the boundaries of the administrative geographies are subject to either periodic or occasional change. This is why we need to download both 2011 and 2021 LSOA boundaries. More details on the administrative geographies of the UK can be found on the website of the Office for National Statistics.\n\n\n\nNow open your GEOG0030/data/raw/ folder and create a new folder called boundaries. Rename the two files you just downloaded to LSOA2011.gpkg and LSOA2021.gpkg, respectively, and copy these into your boundaries folder.\n\n\n\n\n\n\nYou may have used spatial data before and noticed that we did not download a collection of files known as a shapefile but a GeoPackage instead. Whilst shapefiles are still being used, and you will most likely come across them at some point in your career, the more modern, more portable, and open-source GeoPackage should be your spatial data format of choice where possible. Have a look at this article on towardsdatascience.com for an excellent explanation on why one should use GeoPackage files instead of shapefiles: [Link]\n\n\n\n\n\n\nFor our population data, we will use the 2011 and 2021 Census population counts that are made available by the ONS through Nomis.\n\nNavigate to the Nomis portal: [Link]\nClick on Query data in the Data Downloads panel.\nClick on Census 2011 -&gt; Key Statistics.\nClick on KS101EW - Usual resident population.\nSelect Geography and set 2011 super output areas - lower layer to All.\nClick on Download data at the left hand side of the screen.\nOnce the data is ready for download, download the file to your computer.\n\nTo get the 2021 Census population counts, you should:\n\nNavigate to the Nomis portal: [Link]\nClick on Query data in the Data Downloads panel.\nClick on Census 2021 -&gt; Topic Summaries.\nClick on TS007A - Age by five-year age bands.\nSelect Geography and set 2021 super output areas - lower layer to All.\nClick on Download data at the left hand side of the screen.\nOnce the data is ready for download, download the file to your computer.\n\nIn your GEOG0030/data/raw/ folder, now create a new folder called population and copy the two Excel files to the newly created population folder. Rename the files you downloaded to: LSOA2011_population.xlsx and LSOA2021_population.xlsx, respectively.\n\n\n\nWhen you open up any of the LSOA spreadsheets in Excel, you will notice that some additional rows of information are contained at the top of each of these files. This extra information will confuse QGIS and we therefore need to do a bit of data cleaning. To reduce the chance of errors in later stages, we will also save the data in csv format.\n\n\n\n\n\n\ncsv stands for comma (or character) separated values. A csv file can be thought of as stripped-down Excel spreadsheet in which every column of data is separated by a comma. If you open a csv file within Excel, however, it will look “normal”. The advantage of using csv files is that it (should) make it easier to read data into QGIS and R as less things can go wrong. csv does have its limitations, especially when you are dealing with large datasets. A powerful and modern alternative is the parquet format. For an introduction on how to use this, refer to Chapter 23 in Hadley Wickham’s R for Data Science (Second Edition)\n\n\n\n\n\nOpen the LSOA2011_population.xlsx file in Excel. We have two main columns: one with identifying information that distinguishes each area from one another and one with population counts. In addition, there are some less informative rows at the top of the spreadsheet.\nLooking at this we need to take three steps. First, we need to remove the top rows that we do not need. Second, we need to make sure that we extract all the rows with data that are relevant to Greater London. Third, we need to spread the information in the first column into two columns. Currently, this columns contains unique area codes as well as unique area names. However, to be able to effectively link our population data to our spatial data, the codes are much more reliable and much less likely to cause issues than the area names. Putting area codes and area names into separate columns will help us sorting this out.\n\nOpen a new Excel spreadsheet. From the LSOA2011_population.xlsx spreadsheet, cut (Edit -&gt; Cut) all cells from columns A to B and rows 9 to 4,651 into this new spreadsheet. Row 4,651 denotes the end of the majority of the Greater London LSOAs.\nNow we need to identify the missing LSOAs that were not kept at the top of the file with the other London LSOAs, probably because these LSOAs got introduced at a later point in time. Unfortunately, we can only do this manually by searching for the name of each of the London Boroughs and subsequently cutting the associated rows of data from the spreadsheet and pasting these into the second spreadsheet.\nGo to Edit -&gt; Find -&gt; Find. Type in City of London. Cut (Edit -&gt; Cut) the two rows of data (City of London 001F, City of London 001G) and paste these at the bottom of the second spreadsheet.\nRepeat this process to find all missing LSOAs by searching the names of all 32 London Boroughs.\n\n\n\n\n\n\n\nYou can make this process much by using keyboard shortcuts. On MacOS you can use: cmd + f to open up the find menu, cmd + x to cut data, and cmd + v to paste data. On Windows you can use: ctrl + f to open up the find menu, ctrl + x to cut data, and ctrl + v to paste date.\n\n\n\n\n\n\n\n\n\nNot all of the 32 London Boroughs have missing LSOAs whilst in other cases the missing LSOAs are not grouped together (e.g. Wandsworth and Southwark) so after cutting the data, try Find again to make sure you did not miss any LSOAs. Once you are done cutting and pasting, you should have 4,836 rows of data in your second spreadsheet.\n\n\n\n\n\n\nLondon Boroughs\n\n\n\n\n\nWestminster\nSutton\n\n\nKensington and Chelsea\nCrodyon\n\n\nHammersmith and Fulham\nBromley\n\n\nWandsworth\nLewisham\n\n\nLambeth\nGreenwich\n\n\nSouthwark\nBexley\n\n\nTower Hamlets\nHavering\n\n\nHackney\nBarking and Dagenham\n\n\nIslington\nRedbridge\n\n\nCamden\nNewham\n\n\nBrent\nWaltham Forest\n\n\nEaling\nHaringey\n\n\nHounslow\nEnfield\n\n\nRichmond upon Thames\nBarnet\n\n\nKingston upon Thames\nHarrow\n\n\nMerton\nHillingdon\n\n\n\n\nOnce you copied all the rows of data, rename the columns in the new spreadsheet to lsoa and pop2011, respectively.\nCut all the data from the pop2011 column that is stored in column B and paste these into column C. You now should have a column without any data between the lsoa and pop2011 columns.\nHighlight the entire lsoa column and in the Data menu click on the Text to Columns menu button.\n\n\n\n\n\n\nFigure 3: Highlight the lsoa columns and find the Text to Columns menu option. Note that column B does not contain any data. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nNote that the Text to Columns function might be elsewhere in the menu depending on your version of Excel and/or your operating system.\n\n\n\n\nIn the Text to Columns menu, select the Delimited radio button and click Next.\nUncheck the checkbox for Tab and put : (colon) into the Other box. Click Finish.\nChange the name of the lsoa column to lsoa11_code and change the name of the now populated column B to lsoa11_name.\n\n\n\n\n\n\nFigure 4: Your spreadsheet should now look something like this. [Enlarge image]\n\n\n\n\n\nOne thing that might cause problems when we try to link the population data to the spatial data is that there are still spaces contained in the lsoa11_code column. This is not directly noticeable as these spaces are white space characters at the end of the LSOA codes without any other characters following it (i.e. trailing spaces). This may seem trivial, but we need this column later and computer language is very precise so we need to remove these. We can do this by highlighting the entire lsoa11_code column and in the Home menu opting for Replace under the Find & Select menu.\n\n\n\n\n\n\nFigure 5: Accessing the Replace option. [Enlarge image]\n\n\n\n\n\nIn the Find what box put in a singular white space, using the spacebar on your keyboard, keep the Replace with box empty, and click on Replace all. You should get a message that 4,835 replacements have been made.\nOne further bit of formatting that you must do before saving your data is to format our population field. At the moment, you will see that there are commas separating the thousands within our values. If we leave these commas in our values, QGIS will read them as decimal points, creating decimal values of our population. There are many points at which we could resolve this issue, but the easiest point is now - we will strip our population values of the commas and set them to integer (whole numbers) values. To format the pop2011 column, higlight the entire column and right-click on the C cell. Click on Format Cells and set the cells to Number with 0 decimal places. You should see that the commas are now removed from your population values.\nSave your spreadsheet as a csv file into your data folder as LSOA2011_population.csv.\n\n\n\n\n\n\n\nAfter saving the file, Excel might give you a warning along the lines of Possible data loss. You can safely ignore this message as the only ‘information’ you have lost is markup information (e.g. fonts, colours, items in bold, etc.) or formulas within Excel (e.g. if you used Excel formulas to calculate means, medians, etc.). In some cases you might also have options to choose what type of csv you would want to save the spreadsheet as. If so, opt for something along the lines of CSV UTF-8 (Comma-delimited) (.csv).\n\n\n\n\n\n\n\n\n\nDepending on the language settings of your operating system (e.g. Windows, MacOS, Linux) and language settings, csv files might use a different character instead of a comma. This may seem trivial, but it can cause issues when reading the data into a different programme. It is therefore always a good idea to check your csv file in a plain text editor (e.g. Textedit on MacOS or Notepad on Windows). In case you do not see commas (,), but semicolons (;) you can apply a quick and dirty fix to your data by finding and replacing every ; with a , in the same that way we fixed our problematic white space characters in Excel.\n\n\n\n\n\n\nNow the 2011 data is prepared, we can move to the 2021 data:\n\nOpen the LSOA2021_population.xlsx in Excel. You will notice that the file is formatted largely the same as the LSOA2011_population.xlsx file, although if you were to look closely you will notice that the majority of London data are not at the top this time but that Local Authority Districts are grouped together - and in fact all data pertaining to Greater London are also grouped together. This makes our lives much easier because we can now simply cut the data for each of the 32 Boroughs and City of London in one go.\nOpen a new Excel spreadsheet. From the LSOA2021_population.xlsx spreadsheet, cut (Edit -&gt; Cut) all cells from columns A to B and rows 19,790 to 2,4783 and paste these into this new spreadsheet.\nTake the remaining steps to prepare the 2021 population steps: split the lsoa column, remove the trailing white space characters from the LSOA code column, and remove the decimal commas in the population count column.\nSave the file as csv into your data folder as LSOA2021_population.csv with the following column names: lsoa21_code, lsoa21_name, and pop2021.\n\n\n\n\n\n\n\nAgain make sure you did not miss any LSOAs. You should end up with 4,995 rows of data in your second spreadsheet.\n\n\n\n\n\n\n\n\n\nWe will now use QGIS to create population maps for the LSOAs in London for both years. To achieve this, we need to join our table data to our spatial datasets and then map our populations for our visual analysis. Because, as we have seen above, we have issues with a different number of LSOAs for each of the Censuses.\n\n\n\n\n\n\nData interoperability is a key issue that you will face in spatial analysis, particularly when it comes to Administrative Geographies.\n\n\n\n\nStart QGIS.\nClick on Project -&gt; New. Save your project as w2-pop-analysis. Remember to save your work throughout the practical.\nBefore we get started with adding data, we will first set the Coordinate Reference System of our Project. Click on Project -&gt; Properties – CRS. In the Filter box, type British National Grid. Select OSGB 1936 / British National Grid - EPSG:27700 and click Apply. Click OK.\n\n\n\n\n\n\n\nWe will explain CRSs and using CRSs in GIS software in more detail next week.\n\n\n\n\n\n\nNow are project is set up, we can start by loading our 2011 spatial layer.\n\nClick on Layer -&gt; Add Layer -&gt; Add Vector Layer.\nWith File as your source type, click on the small three dots button and navigate to your 2011 boundary files.\nHere, we will select the LSOA2011.gpkg dataset. Highlight the file and click Open. Then click Add. You may need to close the box after adding the layer. The 2011 LSOA geography for England and Wales should now be loaded.\n\n\n\n\n\n\nFigure 6: 2011 LSOAs for England and Wales. [Enlarge image]\n\n\n\n\n\n\n\nWe are now going to join our 2011 population data to our 2011 spatial data file First, we need to add the 2011 population data to our project.\n\nClick on Layer -&gt; Add Layer -&gt; Add Delimited Text Layer.\nClick on the three dots button again and navigate to your 2011 population data in your data folder. Your file format should be set to csv. You should have the following boxes clicked under the Record and Field options menu: Decimal separator is comma, First record has field names, Detect field types and Discard empty fields. QGIS does many of these by default, but do double-check.\nSet the Geometry to No geometry (attribute only table) under the Geometry Definition menu. Then click Add and Close. You should now see a table added to your Layers pane.\n\nWe can now join this table data to our spatial data using an Attribute Join.\n\n\n\n\n\n\nAn Attribute Join* is one of two types of data joins you will use in spatial analysis (the other is a Spatial join**, which we will look at later on in the module). An attribute join essentially allows you to link two datasets together, as long as they share a common attribute to facilitate the ‘matching’ of rows:\n\n\n\n\n\nFigure 7: Attribute Joins. [Enlarge image]\n\n\n\n\nEssentially you need a single unique identifying ID field for your records within both datasets: this can be a code, a name or any other string of information. In spatial analysis, we always join our table data to our spatial data. One way to think about it as attaching the table data to the spatial data layer.\nTo make a join work, you need to make sure your ID field is correct across both datasets, i.e. no typos or spelling mistakes. Computers can only follow instructions, so they do not know that St. Thomas in one dataset is the same as St Thomas in another.\nAs a result, whilst in our datasets we have kept both the name and code for both the boundary data and the population data, when creating the join, we will always prefer to use the code over their names. Unlike names, codes reduce the likelihood of error and mismatch because they do not rely on understanding spelling. Common errors, such as adding in spaces or using 0 instead O (and vice versa) can still happen but it is less likely.\n\n\n\nTo make our join work, we need to check that we have a matching UID across both our datasets. We therefore need to look at the tables of both datasets and check what attributes we have that could be used for this possible match.\n\nOpen up the Attribute Tables of each layer and check what fields we have that could be used for the join. We can see that both our respective ‘code’ fields have the same codes (LSOA11CD and lsoa11_code) which seem to contain the same information.\nRight-click on your LSOA2011 spatial layer, click on Properties and then click on the Joins tab.\n\nClick on the + button. Make sure the Join Layer is set to LSOA2011_population.\nSet the Join field to lsoa11_code.\nSet the Target field to LSOA11CD.\nClick the Joined Fields box and click to only select the pop2011 field.\nClick on the Custom Field Name Prefix and remove the pre-entered text to leave it blank.\nClick on OK.\nClick on Apply in the main Join tab and then click OK to return to the main QGIS window.\n\n\nWe can now check to see if our join has worked by opening up the Attribute Table of our LSOA11CD spatial layer and looking to see if our LSOAs now have a Population field attached to it.\n\nSort the data in the Attribute Table on the pop2011 field by clicking on the column name: all LSOAs for which we have population data (i.e. only the London LSOAs) are now grouped at the top of the file. Select the first 4,835 rows of data.\n\n\n\n\n\n\n\nYou can select the first row, scroll down to the last row that has population data, hold down the shift button on your keyboard, and click on the last row that has population data to select all rows that we need in one go.\n\n\n\n\n\n\n\n\nFigure 8: All 4,835 London LSOAs selected. [Enlarge image]\n\n\n\n\n\nClose the Attribute Table. Right-click on the LSOA2011 layer and select Export -&gt; Save Selected Features As. Set Format to GeoPackage and click on the small three dots button next to File name and navigate to your data/raw/boundaries folder. Save the file as LSOA2011_London.gpkg.\nYou can now untick the LSOA2011 containing all the LSOAs for England and Wales. Right-click on the LSOA2011_London layer and click on Zoom to Layer(s).\n\n\n\n\n\n\nFigure 9: All 4,835 London LSOAs. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nThe main strength of a GUI GIS system is that is really helps us understand how we can visualise spatial data. Even with just two spatial layers loaded, we can understand two key concepts of using spatial data within GIS. The first, and this is only really relevant to GUI GIS systems, is that each layer can either be turned on or off, to make it visible or not. The second concept is the order in which your layers are drawn – and this is relevant for both GUI GIS and when using plotting libraries such as ggplot2 or tmap in RStudio. Your layers will be drawn depending on the order in which your layers are either tabled (as in a GUI GIS) or ‘called’ in your function in code. Being aware of this need for ‘order’ is important when we shift to using RStudio and tmap to plot our maps, as if you do not layer your data correctly in your code, your map will end up not looking as you hoped. For us using QGIS right now, the layers will be drawn from bottom to top.\n\n\n\nWe can now finally map the population distribution of London in 2011.\n\nRight-click on the LSOA2011_London layer and click on Properties -&gt; Symbology.\n\nIn the dropdown menu at the top of the window, select Graduated as symbology.\nUnder Value choose pop2011 as your column.\nWe can then change the color ramp to suit our aesthetic preferences. In the Colour ramp dropdown menu select Magma.\nThe final thing we need to do is classify our data - what this simply means is to decide how to group the values in our dataset together to create the graduated representation. We will be looking at classification options in later weeks, but for now, we will use the Natural Breaks option. Open the drop-down menu next to Mode, select Natural Breaks, change it to 7 classes and then click Classify.\nFinally click Apply to style your dataset.\n\n\n\n\n\n\n\n\nUnderstanding what classification is appropriate to visualise your data is an important step within spatial analysis and visualisation, and something you will learn more about in the following weeks. Overall, they should be determined by understanding your data’s distribution and match your visualisation accordingly.\n\n\n\nYou should now be looking at something like this:\n\n\n\n\n\nFigure 10: The population distribution of London in 2011. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nWhereas the above map is fine for today, it is technically incorrect because we are showing absolute numbers on a choropleth. This is something we should never do, unless the spatial units are identical in size (e.g. a hexagonal tessellation of an area), because larger areas will draw attention and affect the visualisation.\n\n\n\n\n\n\n\nTo export your map select only the map layers you want to export and then opt for Project -&gt; Import/Export -&gt; Export to Image and save your final map in your output folder. Next week, we will look at how to style our maps using the main map conventions (adding North Arrows, Scale Bars and Legends) but for now a simple picture will do.\n\n\n\n\nYou now need to repeat the entire process to also create a map for the 2021 Census data. Remember, you need to:\n\nLoad the respective spatial layer.\nLoad the respective population dataset.\nJoin the two datasets together using an Attribute Join.\nExport your joined dataset (London only) as a GeoPackage and save this into your data folder as LSOA2011_London.gpkg.\nStyle your data appropriately.\nExport your maps as an image to your output folder.\n\n\n\n\n\n\n\nTo make visual comparisons against our two datasets, theoretically we would need to standardise the breaks at which our classification schemes are set at. To set all two datasets to the same breaks, you can do the following:\n\nRight-click again on the LSOA2011_London dataset and, click on Styles -&gt; Copy Styles -&gt; Symbology.\nNow right-click on the LSOA2021_London file, and click on Styles -&gt; Paste Style -&gt; Symbology. You should now see the classification breaks in the 2021 dataset change to match those in the 2011 data.\nThe final thing you need to do is to change the classification column in the Symbology tab for the 2021 dataset to reflect pop2021.\n\n\n\n\n\n\n\nSave your project so you can go back to it if you need to, other than that that is it for this week!"
  },
  {
    "objectID": "02-GIScience.html#slides-w01",
    "href": "02-GIScience.html#slides-w01",
    "title": "1 GIScience and GIS software",
    "section": "",
    "text": "The slides for this week’s lecture can be downloaded here: [Link]"
  },
  {
    "objectID": "02-GIScience.html#reading-w02",
    "href": "02-GIScience.html#reading-w02",
    "title": "1 GIScience and GIS software",
    "section": "",
    "text": "Longley, P. et al. 2015. Geographic Information Science & Systems, Chapter 2: The Nature of Geographic Data. [Link]\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 3: Representing Geography. [Link]\nLongley, P. et al. 2015. Geographic Information Science & Systems, Chapter 7: Geographic Data Modeling. [Link]\n\n\n\n\n\nGoodchild, M. and Haining, R. 2005. GIS and spatial data analysis: Converging perspectives. Papers in Regional Science 83(1): 363–385. [Link]\nSchurr, C., Müller, M. and Imhof, N. 2020. Who makes geographical knowledge? The gender of Geography’s gatekeepers. The Professional Geographer 72(3): 317-331. [Link]\nYuan, M. 2001. Representing complex geographic phenomena in GIS. Cartography and Geographic Information Science 28(2): 83-96. [Link]"
  },
  {
    "objectID": "02-GIScience.html#simple-digitisation-of-spatial-features",
    "href": "02-GIScience.html#simple-digitisation-of-spatial-features",
    "title": "1 GIScience and GIS software",
    "section": "",
    "text": "To get spatial features in a digital form, they need to be digitised. Let’s take a quick look in this first part of the practical at a straight-forward example of digitising the river Thames in London.\n\n\n\n\n\nFigure 1: The river Thames. [Enlarge image]\n\n\n\n\nWe are going to use a very simple online tool that allows us to create digital data and export the data we create as raw files:\n\nHead to geojson.io.\nIn the bottom left-hand corner, select Satellite Streets as your map option.\nNext, click on the Draw Linestring tool which you can find on the right hand side of the screen. You can hover over the icons to get the names of each tool.\nNow digitise the river Thames. Simply click from a starting point on the left- or right-hand side of the map, and digitise the river.\nOnce you are done, double-click your final point to end your line.\nYou can click on the line and select Info in the pop-up screen to find out how long the line is.\nYou can export your data using the Save menu."
  },
  {
    "objectID": "02-GIScience.html#population-change-in-london",
    "href": "02-GIScience.html#population-change-in-london",
    "title": "1 GIScience and GIS software",
    "section": "",
    "text": "The second part of this practical will introduces you to attribute joins followed by creating a choropleth map. You will be using different types of joins throughout this practical, this module in general, and probably the rest of your career, so it is incredibly important that you understand how these work.\n\n\n\n\n\n\nThe datasets you will create in this practical will be used in next week’s practical, so make sure to follow every step and save your data carefully.\n\n\n\nWhen using spatial data, there is generally a very specific workflow that you will need to go through and, believe it or not, the majority of this is not actually focused on analysing your data. One of the most often-quoted GIS-related unreferenced ‘fact’ is that anyone working with spatial data will spend 80% of their time simply finding, retrieving, managing and processing the data before any analysis can be done.\nOne of the reasons behind this need for a substantial amount of processing is that the data you often need to use is almost never in the format that you require for analysis. For example, for our investigation, there is not a ‘ready-made’ spatial population dataset (i.e. population shapefile) we can download to explore population change across England:\n\n\n\n\n\nFigure 2: A quick Google search shows that finding a shapefile of England’s population is not straightforward. [Enlarge image]\n\n\n\n\nInstead, we need to go and find the raw datasets and create the data layers that we want. As a result, before beginning any spatial analysis project, it is best-practice to think through what end product you will ultimately need for your analysis.\nA typical spatial analysis workflow usually looks something like this:\n\n\n\n\n\n\n\nStep\nAction\n\n\n\n\nidentify\nThink about the data you need to complete your analysis.\n\n\nfind\nFind the data that matches your requirements.\n\n\ndownload\nStore the data on your computer in the right folder.\n\n\nclean\nAssess whether the data needs pre-processing before moving to QGIS or R.\n\n\nload\nLoad the cleaned data into QGIS, R, or software of choice.\n\n\nprocess\nPrepare the data so that they are ready for analysis (e.g. joining, aggregating).\n\n\nanalyse\nExecute the actual analysis that you set out to do.\n\n\nvisualise\nCreate graphs and maps where appropriate.\n\n\n\nAs you can see, the analysis and visualisation parts only make up the last steps of the workflow and instead, the workflow is very top-heavy with data management.\n\n\n\n\n\n\nVery often in GIS-related courses you will be given pre-processed datasets. Because data management is an essential part of your workflow, we will clean (the majority of) our data from the get-go. This will help you understand the processes that you will need to go through in the future as you search for and download your own data as well as deal with the data first-hand before loading it into our GIS software.\n\n\n\n\n\nIn this part of the practical, we will investigate how the population in London has changed over time. Understanding population change - over time and space - is spatial analysis at its most fundamental. We can understand a lot just from where population is growing or decreasing, including thinking through the impacts of these changes on the provision of housing, education, health and transport infrastructure.\nToday we will look at population in London in the Census years of 2011 and 2021 at the Lower Super Output Area scale that we can also use within our future analysis projects.\n\n\n\n\n\n\nWe will use the population dataset we create today to normalise other datasets in the module. Why? When we record events created by humans, there is often a population bias: simply, more people in an area will by probability lead to a higher occurrence of said event, such as crime. We will look at this in greater detail next week.\n\n\n\n\n\n\nIn the UK, finding authoritative data on population and Administrative Geography boundaries is increasingly straight-forward. Over the last decade, the UK government has opened up many of its datasets as part of an Open Data precedent that began in 2010 with the creation of data.gov.uk and the Open Government Licence (the terms and conditions for using data).\n\n\n\n\n\n\nData.gov.uk is the UK government’s central database that contains open data that the central government, local authorities and public bodies publish. This includes, for example, aggregated census and health data – and even government spending. In addition to this central database, there are other authoritative databases run by the government and/or respective public bodies that contain either a specific type of data (e.g. Census data, crime data) or a specific collection of datasets (e.g. health data from the NHS, data about London). Some portals are less up-to-date than others, so it is wise to double-check with the ‘originators’ of the data to see if there are more recent versions.\n\n\n\nFor our practical, we will access data from two other authoritative data portals:\n\nFor our administrative boundaries, we will download the spatial data through the Open Geography Portal.\nFor our population data, we will download attribute data directly from the Office of National Statistics (ONS).\n\n\n\n\nBefore we download our data, it is important to establish an organised file systems that we will use throughout the module. Create a GEOG0030 folder in your Documents folder on your computer and within your GEOG0030 folder, create the following subfolders:\n\n\n\n\n\n\n\nFolder name\nPurpose\n\n\n\n\nraw\nTo store all your raw data files that have not yet been cleaned and processed.\n\n\ndata\nTo store data files that have been cleaned and processed.\n\n\noutput\nTo store all your final output data files and maps.\n\n\n\n\n\n\nWe will start by downloading the administrative geography boundaries for England and Wales:\n\nNavigate to the Open Geography Portal: [Link]\nIn the main menu go to Boundaries -&gt; Census Boundaries  -&gt; Lower Layer Super Output Areas -&gt; 2011 Boundaries.\nClick on LSOA (Dec 2011) Boundaries Generalised Clipped BGC EW V3.\nClick on Download -&gt; Download GeoPackage.\n\nRepeat the above process to also download the 2021 LSOA boundaries: Lower Layer Super Output Areas (2021) Boundaries EW BGC. Make sure you download the Generalised (20m) version.\n\n\n\n\n\n\nAdministrative geographies are a way of dividing the country into smaller sub-divisions or areas that correspond with the area of responsibility of local authorities and government bodies. These administrative sub-divisions and their associated geography have several important uses, including assigning electoral constituencies and serving as a mechanism for collecting Census data. These geographies are updated as populations evolve and as a result the boundaries of the administrative geographies are subject to either periodic or occasional change. This is why we need to download both 2011 and 2021 LSOA boundaries. More details on the administrative geographies of the UK can be found on the website of the Office for National Statistics.\n\n\n\nNow open your GEOG0030/data/raw/ folder and create a new folder called boundaries. Rename the two files you just downloaded to LSOA2011.gpkg and LSOA2021.gpkg, respectively, and copy these into your boundaries folder.\n\n\n\n\n\n\nYou may have used spatial data before and noticed that we did not download a collection of files known as a shapefile but a GeoPackage instead. Whilst shapefiles are still being used, and you will most likely come across them at some point in your career, the more modern, more portable, and open-source GeoPackage should be your spatial data format of choice where possible. Have a look at this article on towardsdatascience.com for an excellent explanation on why one should use GeoPackage files instead of shapefiles: [Link]\n\n\n\n\n\n\nFor our population data, we will use the 2011 and 2021 Census population counts that are made available by the ONS through Nomis.\n\nNavigate to the Nomis portal: [Link]\nClick on Query data in the Data Downloads panel.\nClick on Census 2011 -&gt; Key Statistics.\nClick on KS101EW - Usual resident population.\nSelect Geography and set 2011 super output areas - lower layer to All.\nClick on Download data at the left hand side of the screen.\nOnce the data is ready for download, download the file to your computer.\n\nTo get the 2021 Census population counts, you should:\n\nNavigate to the Nomis portal: [Link]\nClick on Query data in the Data Downloads panel.\nClick on Census 2021 -&gt; Topic Summaries.\nClick on TS007A - Age by five-year age bands.\nSelect Geography and set 2021 super output areas - lower layer to All.\nClick on Download data at the left hand side of the screen.\nOnce the data is ready for download, download the file to your computer.\n\nIn your GEOG0030/data/raw/ folder, now create a new folder called population and copy the two Excel files to the newly created population folder. Rename the files you downloaded to: LSOA2011_population.xlsx and LSOA2021_population.xlsx, respectively.\n\n\n\nWhen you open up any of the LSOA spreadsheets in Excel, you will notice that some additional rows of information are contained at the top of each of these files. This extra information will confuse QGIS and we therefore need to do a bit of data cleaning. To reduce the chance of errors in later stages, we will also save the data in csv format.\n\n\n\n\n\n\ncsv stands for comma (or character) separated values. A csv file can be thought of as stripped-down Excel spreadsheet in which every column of data is separated by a comma. If you open a csv file within Excel, however, it will look “normal”. The advantage of using csv files is that it (should) make it easier to read data into QGIS and R as less things can go wrong. csv does have its limitations, especially when you are dealing with large datasets. A powerful and modern alternative is the parquet format. For an introduction on how to use this, refer to Chapter 23 in Hadley Wickham’s R for Data Science (Second Edition)\n\n\n\n\n\nOpen the LSOA2011_population.xlsx file in Excel. We have two main columns: one with identifying information that distinguishes each area from one another and one with population counts. In addition, there are some less informative rows at the top of the spreadsheet.\nLooking at this we need to take three steps. First, we need to remove the top rows that we do not need. Second, we need to make sure that we extract all the rows with data that are relevant to Greater London. Third, we need to spread the information in the first column into two columns. Currently, this columns contains unique area codes as well as unique area names. However, to be able to effectively link our population data to our spatial data, the codes are much more reliable and much less likely to cause issues than the area names. Putting area codes and area names into separate columns will help us sorting this out.\n\nOpen a new Excel spreadsheet. From the LSOA2011_population.xlsx spreadsheet, cut (Edit -&gt; Cut) all cells from columns A to B and rows 9 to 4,651 into this new spreadsheet. Row 4,651 denotes the end of the majority of the Greater London LSOAs.\nNow we need to identify the missing LSOAs that were not kept at the top of the file with the other London LSOAs, probably because these LSOAs got introduced at a later point in time. Unfortunately, we can only do this manually by searching for the name of each of the London Boroughs and subsequently cutting the associated rows of data from the spreadsheet and pasting these into the second spreadsheet.\nGo to Edit -&gt; Find -&gt; Find. Type in City of London. Cut (Edit -&gt; Cut) the two rows of data (City of London 001F, City of London 001G) and paste these at the bottom of the second spreadsheet.\nRepeat this process to find all missing LSOAs by searching the names of all 32 London Boroughs.\n\n\n\n\n\n\n\nYou can make this process much by using keyboard shortcuts. On MacOS you can use: cmd + f to open up the find menu, cmd + x to cut data, and cmd + v to paste data. On Windows you can use: ctrl + f to open up the find menu, ctrl + x to cut data, and ctrl + v to paste date.\n\n\n\n\n\n\n\n\n\nNot all of the 32 London Boroughs have missing LSOAs whilst in other cases the missing LSOAs are not grouped together (e.g. Wandsworth and Southwark) so after cutting the data, try Find again to make sure you did not miss any LSOAs. Once you are done cutting and pasting, you should have 4,836 rows of data in your second spreadsheet.\n\n\n\n\n\n\nLondon Boroughs\n\n\n\n\n\nWestminster\nSutton\n\n\nKensington and Chelsea\nCrodyon\n\n\nHammersmith and Fulham\nBromley\n\n\nWandsworth\nLewisham\n\n\nLambeth\nGreenwich\n\n\nSouthwark\nBexley\n\n\nTower Hamlets\nHavering\n\n\nHackney\nBarking and Dagenham\n\n\nIslington\nRedbridge\n\n\nCamden\nNewham\n\n\nBrent\nWaltham Forest\n\n\nEaling\nHaringey\n\n\nHounslow\nEnfield\n\n\nRichmond upon Thames\nBarnet\n\n\nKingston upon Thames\nHarrow\n\n\nMerton\nHillingdon\n\n\n\n\nOnce you copied all the rows of data, rename the columns in the new spreadsheet to lsoa and pop2011, respectively.\nCut all the data from the pop2011 column that is stored in column B and paste these into column C. You now should have a column without any data between the lsoa and pop2011 columns.\nHighlight the entire lsoa column and in the Data menu click on the Text to Columns menu button.\n\n\n\n\n\n\nFigure 3: Highlight the lsoa columns and find the Text to Columns menu option. Note that column B does not contain any data. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nNote that the Text to Columns function might be elsewhere in the menu depending on your version of Excel and/or your operating system.\n\n\n\n\nIn the Text to Columns menu, select the Delimited radio button and click Next.\nUncheck the checkbox for Tab and put : (colon) into the Other box. Click Finish.\nChange the name of the lsoa column to lsoa11_code and change the name of the now populated column B to lsoa11_name.\n\n\n\n\n\n\nFigure 4: Your spreadsheet should now look something like this. [Enlarge image]\n\n\n\n\n\nOne thing that might cause problems when we try to link the population data to the spatial data is that there are still spaces contained in the lsoa11_code column. This is not directly noticeable as these spaces are white space characters at the end of the LSOA codes without any other characters following it (i.e. trailing spaces). This may seem trivial, but we need this column later and computer language is very precise so we need to remove these. We can do this by highlighting the entire lsoa11_code column and in the Home menu opting for Replace under the Find & Select menu.\n\n\n\n\n\n\nFigure 5: Accessing the Replace option. [Enlarge image]\n\n\n\n\n\nIn the Find what box put in a singular white space, using the spacebar on your keyboard, keep the Replace with box empty, and click on Replace all. You should get a message that 4,835 replacements have been made.\nOne further bit of formatting that you must do before saving your data is to format our population field. At the moment, you will see that there are commas separating the thousands within our values. If we leave these commas in our values, QGIS will read them as decimal points, creating decimal values of our population. There are many points at which we could resolve this issue, but the easiest point is now - we will strip our population values of the commas and set them to integer (whole numbers) values. To format the pop2011 column, higlight the entire column and right-click on the C cell. Click on Format Cells and set the cells to Number with 0 decimal places. You should see that the commas are now removed from your population values.\nSave your spreadsheet as a csv file into your data folder as LSOA2011_population.csv.\n\n\n\n\n\n\n\nAfter saving the file, Excel might give you a warning along the lines of Possible data loss. You can safely ignore this message as the only ‘information’ you have lost is markup information (e.g. fonts, colours, items in bold, etc.) or formulas within Excel (e.g. if you used Excel formulas to calculate means, medians, etc.). In some cases you might also have options to choose what type of csv you would want to save the spreadsheet as. If so, opt for something along the lines of CSV UTF-8 (Comma-delimited) (.csv).\n\n\n\n\n\n\n\n\n\nDepending on the language settings of your operating system (e.g. Windows, MacOS, Linux) and language settings, csv files might use a different character instead of a comma. This may seem trivial, but it can cause issues when reading the data into a different programme. It is therefore always a good idea to check your csv file in a plain text editor (e.g. Textedit on MacOS or Notepad on Windows). In case you do not see commas (,), but semicolons (;) you can apply a quick and dirty fix to your data by finding and replacing every ; with a , in the same that way we fixed our problematic white space characters in Excel.\n\n\n\n\n\n\nNow the 2011 data is prepared, we can move to the 2021 data:\n\nOpen the LSOA2021_population.xlsx in Excel. You will notice that the file is formatted largely the same as the LSOA2011_population.xlsx file, although if you were to look closely you will notice that the majority of London data are not at the top this time but that Local Authority Districts are grouped together - and in fact all data pertaining to Greater London are also grouped together. This makes our lives much easier because we can now simply cut the data for each of the 32 Boroughs and City of London in one go.\nOpen a new Excel spreadsheet. From the LSOA2021_population.xlsx spreadsheet, cut (Edit -&gt; Cut) all cells from columns A to B and rows 19,790 to 2,4783 and paste these into this new spreadsheet.\nTake the remaining steps to prepare the 2021 population steps: split the lsoa column, remove the trailing white space characters from the LSOA code column, and remove the decimal commas in the population count column.\nSave the file as csv into your data folder as LSOA2021_population.csv with the following column names: lsoa21_code, lsoa21_name, and pop2021.\n\n\n\n\n\n\n\nAgain make sure you did not miss any LSOAs. You should end up with 4,995 rows of data in your second spreadsheet.\n\n\n\n\n\n\n\n\n\nWe will now use QGIS to create population maps for the LSOAs in London for both years. To achieve this, we need to join our table data to our spatial datasets and then map our populations for our visual analysis. Because, as we have seen above, we have issues with a different number of LSOAs for each of the Censuses.\n\n\n\n\n\n\nData interoperability is a key issue that you will face in spatial analysis, particularly when it comes to Administrative Geographies.\n\n\n\n\nStart QGIS.\nClick on Project -&gt; New. Save your project as w2-pop-analysis. Remember to save your work throughout the practical.\nBefore we get started with adding data, we will first set the Coordinate Reference System of our Project. Click on Project -&gt; Properties – CRS. In the Filter box, type British National Grid. Select OSGB 1936 / British National Grid - EPSG:27700 and click Apply. Click OK.\n\n\n\n\n\n\n\nWe will explain CRSs and using CRSs in GIS software in more detail next week.\n\n\n\n\n\n\nNow are project is set up, we can start by loading our 2011 spatial layer.\n\nClick on Layer -&gt; Add Layer -&gt; Add Vector Layer.\nWith File as your source type, click on the small three dots button and navigate to your 2011 boundary files.\nHere, we will select the LSOA2011.gpkg dataset. Highlight the file and click Open. Then click Add. You may need to close the box after adding the layer. The 2011 LSOA geography for England and Wales should now be loaded.\n\n\n\n\n\n\nFigure 6: 2011 LSOAs for England and Wales. [Enlarge image]\n\n\n\n\n\n\n\nWe are now going to join our 2011 population data to our 2011 spatial data file First, we need to add the 2011 population data to our project.\n\nClick on Layer -&gt; Add Layer -&gt; Add Delimited Text Layer.\nClick on the three dots button again and navigate to your 2011 population data in your data folder. Your file format should be set to csv. You should have the following boxes clicked under the Record and Field options menu: Decimal separator is comma, First record has field names, Detect field types and Discard empty fields. QGIS does many of these by default, but do double-check.\nSet the Geometry to No geometry (attribute only table) under the Geometry Definition menu. Then click Add and Close. You should now see a table added to your Layers pane.\n\nWe can now join this table data to our spatial data using an Attribute Join.\n\n\n\n\n\n\nAn Attribute Join* is one of two types of data joins you will use in spatial analysis (the other is a Spatial join**, which we will look at later on in the module). An attribute join essentially allows you to link two datasets together, as long as they share a common attribute to facilitate the ‘matching’ of rows:\n\n\n\n\n\nFigure 7: Attribute Joins. [Enlarge image]\n\n\n\n\nEssentially you need a single unique identifying ID field for your records within both datasets: this can be a code, a name or any other string of information. In spatial analysis, we always join our table data to our spatial data. One way to think about it as attaching the table data to the spatial data layer.\nTo make a join work, you need to make sure your ID field is correct across both datasets, i.e. no typos or spelling mistakes. Computers can only follow instructions, so they do not know that St. Thomas in one dataset is the same as St Thomas in another.\nAs a result, whilst in our datasets we have kept both the name and code for both the boundary data and the population data, when creating the join, we will always prefer to use the code over their names. Unlike names, codes reduce the likelihood of error and mismatch because they do not rely on understanding spelling. Common errors, such as adding in spaces or using 0 instead O (and vice versa) can still happen but it is less likely.\n\n\n\nTo make our join work, we need to check that we have a matching UID across both our datasets. We therefore need to look at the tables of both datasets and check what attributes we have that could be used for this possible match.\n\nOpen up the Attribute Tables of each layer and check what fields we have that could be used for the join. We can see that both our respective ‘code’ fields have the same codes (LSOA11CD and lsoa11_code) which seem to contain the same information.\nRight-click on your LSOA2011 spatial layer, click on Properties and then click on the Joins tab.\n\nClick on the + button. Make sure the Join Layer is set to LSOA2011_population.\nSet the Join field to lsoa11_code.\nSet the Target field to LSOA11CD.\nClick the Joined Fields box and click to only select the pop2011 field.\nClick on the Custom Field Name Prefix and remove the pre-entered text to leave it blank.\nClick on OK.\nClick on Apply in the main Join tab and then click OK to return to the main QGIS window.\n\n\nWe can now check to see if our join has worked by opening up the Attribute Table of our LSOA11CD spatial layer and looking to see if our LSOAs now have a Population field attached to it.\n\nSort the data in the Attribute Table on the pop2011 field by clicking on the column name: all LSOAs for which we have population data (i.e. only the London LSOAs) are now grouped at the top of the file. Select the first 4,835 rows of data.\n\n\n\n\n\n\n\nYou can select the first row, scroll down to the last row that has population data, hold down the shift button on your keyboard, and click on the last row that has population data to select all rows that we need in one go.\n\n\n\n\n\n\n\n\nFigure 8: All 4,835 London LSOAs selected. [Enlarge image]\n\n\n\n\n\nClose the Attribute Table. Right-click on the LSOA2011 layer and select Export -&gt; Save Selected Features As. Set Format to GeoPackage and click on the small three dots button next to File name and navigate to your data/raw/boundaries folder. Save the file as LSOA2011_London.gpkg.\nYou can now untick the LSOA2011 containing all the LSOAs for England and Wales. Right-click on the LSOA2011_London layer and click on Zoom to Layer(s).\n\n\n\n\n\n\nFigure 9: All 4,835 London LSOAs. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nThe main strength of a GUI GIS system is that is really helps us understand how we can visualise spatial data. Even with just two spatial layers loaded, we can understand two key concepts of using spatial data within GIS. The first, and this is only really relevant to GUI GIS systems, is that each layer can either be turned on or off, to make it visible or not. The second concept is the order in which your layers are drawn – and this is relevant for both GUI GIS and when using plotting libraries such as ggplot2 or tmap in RStudio. Your layers will be drawn depending on the order in which your layers are either tabled (as in a GUI GIS) or ‘called’ in your function in code. Being aware of this need for ‘order’ is important when we shift to using RStudio and tmap to plot our maps, as if you do not layer your data correctly in your code, your map will end up not looking as you hoped. For us using QGIS right now, the layers will be drawn from bottom to top.\n\n\n\nWe can now finally map the population distribution of London in 2011.\n\nRight-click on the LSOA2011_London layer and click on Properties -&gt; Symbology.\n\nIn the dropdown menu at the top of the window, select Graduated as symbology.\nUnder Value choose pop2011 as your column.\nWe can then change the color ramp to suit our aesthetic preferences. In the Colour ramp dropdown menu select Magma.\nThe final thing we need to do is classify our data - what this simply means is to decide how to group the values in our dataset together to create the graduated representation. We will be looking at classification options in later weeks, but for now, we will use the Natural Breaks option. Open the drop-down menu next to Mode, select Natural Breaks, change it to 7 classes and then click Classify.\nFinally click Apply to style your dataset.\n\n\n\n\n\n\n\n\nUnderstanding what classification is appropriate to visualise your data is an important step within spatial analysis and visualisation, and something you will learn more about in the following weeks. Overall, they should be determined by understanding your data’s distribution and match your visualisation accordingly.\n\n\n\nYou should now be looking at something like this:\n\n\n\n\n\nFigure 10: The population distribution of London in 2011. [Enlarge image]\n\n\n\n\n\n\n\n\n\n\nWhereas the above map is fine for today, it is technically incorrect because we are showing absolute numbers on a choropleth. This is something we should never do, unless the spatial units are identical in size (e.g. a hexagonal tessellation of an area), because larger areas will draw attention and affect the visualisation.\n\n\n\n\n\n\n\nTo export your map select only the map layers you want to export and then opt for Project -&gt; Import/Export -&gt; Export to Image and save your final map in your output folder. Next week, we will look at how to style our maps using the main map conventions (adding North Arrows, Scale Bars and Legends) but for now a simple picture will do."
  },
  {
    "objectID": "02-GIScience.html#assignment-w02",
    "href": "02-GIScience.html#assignment-w02",
    "title": "1 GIScience and GIS software",
    "section": "",
    "text": "You now need to repeat the entire process to also create a map for the 2021 Census data. Remember, you need to:\n\nLoad the respective spatial layer.\nLoad the respective population dataset.\nJoin the two datasets together using an Attribute Join.\nExport your joined dataset (London only) as a GeoPackage and save this into your data folder as LSOA2011_London.gpkg.\nStyle your data appropriately.\nExport your maps as an image to your output folder.\n\n\n\n\n\n\n\nTo make visual comparisons against our two datasets, theoretically we would need to standardise the breaks at which our classification schemes are set at. To set all two datasets to the same breaks, you can do the following:\n\nRight-click again on the LSOA2011_London dataset and, click on Styles -&gt; Copy Styles -&gt; Symbology.\nNow right-click on the LSOA2021_London file, and click on Styles -&gt; Paste Style -&gt; Symbology. You should now see the classification breaks in the 2021 dataset change to match those in the 2011 data.\nThe final thing you need to do is to change the classification column in the Symbology tab for the 2021 dataset to reflect pop2021."
  },
  {
    "objectID": "02-GIScience.html#byl-w02",
    "href": "02-GIScience.html#byl-w02",
    "title": "1 GIScience and GIS software",
    "section": "",
    "text": "Save your project so you can go back to it if you need to, other than that that is it for this week!"
  },
  {
    "objectID": "11-data.html",
    "href": "11-data.html",
    "title": "1 Data Sources",
    "section": "",
    "text": "Below you will find a list of resources that you might want to explore when sourcing data for your coursework assignment or your dissertation. This is by no means an exhaustive list, but simply contains some suggestions of websites that you may want to use.\n\n\n\n\n\n\nYou are not limited to using these datasets for your coursework assignment or your dissertation, but these are merely some suggestions .\n\n\n\n\n\nThe following websites contain Open Data or link to Open Data from several respectable data providers:\n\nAfricanUrbanNetwork\nAirBnB Data\nBike Docking Data (ready for R)\nBing Maps worldwide road detections\nCamden Air Action\nConsumer Data Research Centre\nDEFRA\nDIVA-GIS\nEdina (e.g. OS mastermap)\nEU Tourism Data\nEurostat\nGeofabrik (OSM data)\nGlobal Weather Data\nGoogle Dataset Search\nGoogle Open Buildings\nJohns Hopkins COVID19 Data\nKing’s College Data on Air Pollution\nLondon Data Store\nLondon Local Authority Maintained Trees\nLondon Tube PM2.5 Levels\nMicrosoft Global Building Footprints\nMicrosoft Research Open Data\nNational Public Transport Access Nodes (NaPTAN)\nNASA EARTHDATA\nNASA SocioEconomic Data and Applications Center (SEDAC)\nNHS Data (ready for R)\nnomis Official Census and Labour Market Statistics\nOffice for National Statistics Geoportal\nOffice for National Statistics\nOpen Topography\nPlanetary Computer Data Catalog\npseudo Census Output Areas 2001-2011-2021\nTesco Store Data (London)\nTfL Cycling Data\nTfL Open Data\nTidy Tuesday Data (not exclusively spatial data)\nUber Travel Time Data\nUK COVID19 Data\nUK Data Service\nUS Census Data\nUS City Open Data Census\nUSGS Earth Explorer\nWorldPop GitHub\nWorldPop\n\nSome other websites that could be helpful:\n\nAwesome Public Datasets; general collection of datasets, although not limited to spatial data.\nFree GIS data; long list with lots of GIS datasets on many different topics and covering many different areas.\n\n\n\n\nUndergraduate students can also apply for a Safeguarded dataset held by the Consumer Data Research Centre. There is a process to access these Safeguarded datasets, which is detailed on the CDRC website. Please be aware that it normally takes 4-5 weeks for your application to be processed.\nAs part of the process, you will need to state in your application why you want that specific dataset and what you are planning to do with it. You will also need to have at least thought about the ethical implications of using that data and provide this with your data application (alongside your standard ethics application).\nSome of the datasets held by the CDRC that you can apply for are:\n\nBicycle Sharing System Docking Station Observations\nCDRC Modelled Ethnicity Proportions - LSOA Geography\nFCA Financial Lives Survey\nLocal Data Company - SmartStreetSensor Footfall Data – Research Aggregated data\nNHS Hospital Admission Rates by Ethnic Group and other Characteristics\nSpeedchecker Broadband Internet Speed Tests\n\n\n\n\n\n\n\nGiven that the application can take several weeks, the Safeguarded CDRC datasets may be useful for your undergraduate dissertation but probably not for the GEOG0030 coursework assignment. However, any of the CDRC datasets that are marked as Open Data do not require this application process and you can download these datasets directly after registering on the website."
  },
  {
    "objectID": "11-data.html#open-data",
    "href": "11-data.html#open-data",
    "title": "1 Data Sources",
    "section": "",
    "text": "The following websites contain Open Data or link to Open Data from several respectable data providers:\n\nAfricanUrbanNetwork\nAirBnB Data\nBike Docking Data (ready for R)\nBing Maps worldwide road detections\nCamden Air Action\nConsumer Data Research Centre\nDEFRA\nDIVA-GIS\nEdina (e.g. OS mastermap)\nEU Tourism Data\nEurostat\nGeofabrik (OSM data)\nGlobal Weather Data\nGoogle Dataset Search\nGoogle Open Buildings\nJohns Hopkins COVID19 Data\nKing’s College Data on Air Pollution\nLondon Data Store\nLondon Local Authority Maintained Trees\nLondon Tube PM2.5 Levels\nMicrosoft Global Building Footprints\nMicrosoft Research Open Data\nNational Public Transport Access Nodes (NaPTAN)\nNASA EARTHDATA\nNASA SocioEconomic Data and Applications Center (SEDAC)\nNHS Data (ready for R)\nnomis Official Census and Labour Market Statistics\nOffice for National Statistics Geoportal\nOffice for National Statistics\nOpen Topography\nPlanetary Computer Data Catalog\npseudo Census Output Areas 2001-2011-2021\nTesco Store Data (London)\nTfL Cycling Data\nTfL Open Data\nTidy Tuesday Data (not exclusively spatial data)\nUber Travel Time Data\nUK COVID19 Data\nUK Data Service\nUS Census Data\nUS City Open Data Census\nUSGS Earth Explorer\nWorldPop GitHub\nWorldPop\n\nSome other websites that could be helpful:\n\nAwesome Public Datasets; general collection of datasets, although not limited to spatial data.\nFree GIS data; long list with lots of GIS datasets on many different topics and covering many different areas."
  },
  {
    "objectID": "11-data.html#safeguarded-data",
    "href": "11-data.html#safeguarded-data",
    "title": "1 Data Sources",
    "section": "",
    "text": "Undergraduate students can also apply for a Safeguarded dataset held by the Consumer Data Research Centre. There is a process to access these Safeguarded datasets, which is detailed on the CDRC website. Please be aware that it normally takes 4-5 weeks for your application to be processed.\nAs part of the process, you will need to state in your application why you want that specific dataset and what you are planning to do with it. You will also need to have at least thought about the ethical implications of using that data and provide this with your data application (alongside your standard ethics application).\nSome of the datasets held by the CDRC that you can apply for are:\n\nBicycle Sharing System Docking Station Observations\nCDRC Modelled Ethnicity Proportions - LSOA Geography\nFCA Financial Lives Survey\nLocal Data Company - SmartStreetSensor Footfall Data – Research Aggregated data\nNHS Hospital Admission Rates by Ethnic Group and other Characteristics\nSpeedchecker Broadband Internet Speed Tests\n\n\n\n\n\n\n\nGiven that the application can take several weeks, the Safeguarded CDRC datasets may be useful for your undergraduate dissertation but probably not for the GEOG0030 coursework assignment. However, any of the CDRC datasets that are marked as Open Data do not require this application process and you can download these datasets directly after registering on the website."
  }
]